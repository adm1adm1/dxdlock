<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deadlock â€” ĞĞ°Ğ¹Ğ´Ğ¸ Ğ¼ĞµĞ¹Ğ½Ğ°</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:#0a0a0f;color:#e0e0e0;min-height:100vh;overflow-x:hidden}
    body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at 20% 50%,rgba(120,40,200,.08) 0%,transparent 50%),radial-gradient(ellipse at 80% 20%,rgba(255,100,50,.06) 0%,transparent 50%),radial-gradient(ellipse at 50% 80%,rgba(0,200,150,.05) 0%,transparent 50%);pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:760px;margin:0 auto;padding:40px 20px 80px}

    .header{text-align:center;margin-bottom:48px}
    .header h1{font-size:2.4rem;font-weight:900;letter-spacing:-1px;background:linear-gradient(135deg,#ff6a3d,#f5c542,#ff6a3d);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shimmer 3s ease-in-out infinite}
    @keyframes shimmer{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
    .header p{margin-top:12px;color:#888;font-size:.95rem}

    .progress-wrap{margin-bottom:36px}
    .progress-info{display:flex;justify-content:space-between;font-size:.8rem;color:#666;margin-bottom:8px}
    .progress-bar{width:100%;height:4px;background:#1a1a2e;border-radius:2px;overflow:hidden}
    .progress-fill{height:100%;background:linear-gradient(90deg,#ff6a3d,#f5c542);border-radius:2px;transition:width .4s ease}

    .question-card{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:36px 32px;margin-bottom:24px;backdrop-filter:blur(10px)}
    .question-number{font-size:.75rem;font-weight:700;color:#ff6a3d;text-transform:uppercase;letter-spacing:2px;margin-bottom:12px}
    .question-text{font-size:1.15rem;font-weight:600;line-height:1.5;margin-bottom:28px}

    .scale-container{display:flex;gap:6px;justify-content:center}
    .scale-option{display:flex;flex-direction:column;align-items:center;flex:1;max-width:140px;cursor:pointer}
    .scale-option-btn{width:52px;height:52px;border-radius:12px;border:2px solid rgba(255,255,255,.1);background:rgba(255,255,255,.03);color:#ccc;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;margin-bottom:8px}
    .scale-option:hover .scale-option-btn{border-color:rgba(255,106,61,.5);background:rgba(255,106,61,.1);color:#fff;transform:translateY(-2px)}
    .scale-option.selected .scale-option-btn{border-color:#ff6a3d;background:rgba(255,106,61,.2);color:#ff6a3d;box-shadow:0 0 20px rgba(255,106,61,.15)}
    .scale-option-label{font-size:.68rem;color:#666;text-align:center;line-height:1.3;min-height:32px;display:flex;align-items:flex-start;justify-content:center}
    .scale-option.selected .scale-option-label{color:#ff6a3d}
    .scale-option:hover .scale-option-label{color:#aaa}

    .nav-buttons{display:flex;gap:12px;margin-top:20px;justify-content:center}
    .btn{padding:14px 32px;border-radius:12px;border:none;font-family:'Inter',sans-serif;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s}
    .btn:disabled{opacity:.3;cursor:not-allowed}
    .btn-back{background:rgba(255,255,255,.06);color:#999}
    .btn-back:hover:not(:disabled){background:rgba(255,255,255,.1);color:#ccc}
    .btn-next{background:linear-gradient(135deg,#ff6a3d,#e8552e);color:#fff}
    .btn-next:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 20px rgba(255,106,61,.3)}
    .btn-next:disabled{background:#333;color:#666}

    #results{display:none}
    .results-title{text-align:center;font-size:1.6rem;font-weight:900;margin-bottom:8px}
    .results-subtitle{text-align:center;color:#777;margin-bottom:36px;font-size:.9rem}

    .meta-cards{display:flex;gap:12px;margin-bottom:28px}
    .meta-card{flex:1;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:20px;text-align:center}
    .meta-card-label{font-size:.7rem;text-transform:uppercase;letter-spacing:1.5px;color:#666;margin-bottom:8px}
    .meta-card-value{font-size:1.3rem;font-weight:700}
    .meta-card-hint{font-size:.7rem;color:#555;margin-top:6px}
    .confidence-high{color:#4ade80}
    .confidence-medium{color:#f5c542}
    .confidence-hybrid{color:#ff6a3d}
    .consistency-good{color:#4ade80}
    .consistency-ok{color:#f5c542}
    .consistency-conflict{color:#ff6a3d}

    .conflicts-section{background:rgba(255,106,61,.05);border:1px solid rgba(255,106,61,.15);border-radius:14px;padding:20px 24px;margin-bottom:28px}
    .conflicts-section h3{font-size:.8rem;text-transform:uppercase;letter-spacing:2px;color:#ff6a3d;margin-bottom:12px}
    .conflict-item{display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.03);font-size:.85rem}
    .conflict-item:last-child{border-bottom:none}
    .conflict-axis{color:#ccc;width:110px;flex-shrink:0}
    .conflict-detail{color:#888;flex:1}
    .conflict-icon{font-size:1rem;flex-shrink:0}

    .profile-section{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:28px;margin-bottom:28px}
    .profile-section h3{font-size:.8rem;text-transform:uppercase;letter-spacing:2px;color:#888;margin-bottom:20px}
    .profile-axis{display:flex;align-items:center;margin-bottom:10px;gap:12px}
    .axis-name{width:110px;font-size:.78rem;color:#999;text-align:right;flex-shrink:0}
    .axis-bar-bg{flex:1;height:8px;background:rgba(255,255,255,.05);border-radius:4px;overflow:hidden}
    .axis-bar-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,#ff6a3d,#f5c542);transition:width .6s ease}
    .axis-bar-fill.conflicted{background:linear-gradient(90deg,#ff6a3d,#ff4444);animation:pulse-bar 1.5s ease-in-out infinite}
    @keyframes pulse-bar{0%,100%{opacity:1}50%{opacity:.6}}
    .axis-value{width:32px;font-size:.78rem;color:#aaa;flex-shrink:0}
    .axis-weight{width:36px;font-size:.65rem;color:#555;flex-shrink:0}

    /* â•â•â• HERO ENTRIES â•â•â• */
    .hero-entry{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:14px;margin-bottom:12px;overflow:hidden}
    .hero-entry.top-pick{border-color:rgba(255,106,61,.3);background:rgba(255,106,61,.05)}
    .hero-card{display:flex;align-items:center;padding:20px 24px 12px}
    .hero-rank{font-size:1.8rem;font-weight:900;color:#333;width:48px;flex-shrink:0}
    .top-pick .hero-rank{color:#ff6a3d}
    .hero-info{flex:1}
    .hero-name{font-size:1.1rem;font-weight:700;margin-bottom:6px}
    .hero-match-bar-bg{height:6px;background:rgba(255,255,255,.06);border-radius:3px;overflow:hidden}
    .hero-match-bar-fill{height:100%;border-radius:3px;background:linear-gradient(90deg,#ff6a3d,#f5c542);transition:width .8s ease}
    .hero-pct{font-size:1.3rem;font-weight:700;color:#777;width:70px;text-align:right;flex-shrink:0}
    .top-pick .hero-pct{color:#ff6a3d}

    /* â•â•â• EXPLAIN â•â•â• */
    .hero-explain-area{padding:0 24px 16px}
    .hero-explain-toggle{display:inline-block;font-size:.72rem;color:#555;cursor:pointer;transition:color .2s;background:none;border:none;font-family:'Inter',sans-serif;padding:4px 0}
    .hero-explain-toggle:hover{color:#ff6a3d}
    .hero-explain{margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.05)}
    .explain-summary{font-size:.75rem;color:#888;margin-bottom:10px}
    .explain-row{display:flex;align-items:center;padding:3px 0;font-size:.75rem;gap:6px}
    .explain-icon{width:20px;text-align:center;flex-shrink:0;font-size:.85rem}
    .explain-axis-name{width:110px;color:#777;flex-shrink:0}
    .explain-values{color:#666;display:flex;gap:16px}
    .explain-player{color:#ff6a3d}
    .explain-hero{color:#4a9eff}
    .explain-diff{color:#555;font-size:.65rem;width:50px;text-align:right;flex-shrink:0}

    .worst-section{margin-top:28px}
    .worst-section h3{font-size:.8rem;text-transform:uppercase;letter-spacing:2px;color:#555;margin-bottom:14px}
    .worst-hero{display:flex;justify-content:space-between;padding:8px 0;font-size:.85rem;color:#555;border-bottom:1px solid rgba(255,255,255,.03)}

    .feedback-section{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:28px;margin-top:36px;text-align:center}
    .feedback-section h3{font-size:1rem;margin-bottom:16px}
    .feedback-buttons{display:flex;gap:12px;justify-content:center;margin-bottom:20px}
    .fb-btn{padding:10px 28px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.04);color:#ccc;font-family:'Inter',sans-serif;font-size:.9rem;cursor:pointer;transition:all .2s}
    .fb-btn:hover{border-color:#ff6a3d;background:rgba(255,106,61,.1)}
    .fb-btn.active{border-color:#ff6a3d;background:rgba(255,106,61,.15);color:#ff6a3d}
    .real-main-select{margin-top:16px}
    .real-main-select label{display:block;font-size:.85rem;color:#888;margin-bottom:8px}
    .real-main-select select{padding:10px 16px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:#111;color:#e0e0e0;font-family:'Inter',sans-serif;font-size:.9rem;width:220px;cursor:pointer}
    .restart-btn{display:inline-block;margin-top:40px;padding:14px 40px;border-radius:12px;border:1px solid rgba(255,255,255,.1);background:transparent;color:#888;font-family:'Inter',sans-serif;font-size:.9rem;cursor:pointer;transition:all .2s}
    .restart-btn:hover{border-color:#ff6a3d;color:#ff6a3d}
    .export-btn{display:inline-block;margin-top:12px;padding:10px 28px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:transparent;color:#666;font-family:'Inter',sans-serif;font-size:.8rem;cursor:pointer;transition:all .2s}
    .export-btn:hover{border-color:#888;color:#aaa}
    .debug-section{margin-top:36px;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.05);border-radius:12px;padding:20px}
    .debug-section summary{font-size:.75rem;color:#555;cursor:pointer;text-transform:uppercase;letter-spacing:1px}
    .debug-section pre{margin-top:12px;font-size:.7rem;color:#666;white-space:pre-wrap;line-height:1.5}

    @media(max-width:580px){
      .header h1{font-size:1.7rem}
      .question-card{padding:24px 16px}
      .scale-option-btn{width:44px;height:44px;font-size:.95rem}
      .scale-option-label{font-size:.6rem}
      .scale-container{gap:4px}
      .hero-card{padding:14px 16px 8px}
      .hero-explain-area{padding:0 16px 12px}
      .meta-cards{flex-direction:column}
      .axis-name,.explain-axis-name{width:85px;font-size:.7rem}
    }
  </style>
</head>
<body>
<div class="container">

  <div class="header">
    <h1>DEADLOCK â€” ĞĞĞ™Ğ”Ğ˜ ĞœĞ•Ğ™ĞĞ</h1>
    <p>18 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Â· 3 Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹ Â· Ñ‡ĞµÑÑ‚Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚</p>
  </div>

  <div class="progress-wrap" id="progressWrap">
    <div class="progress-info">
      <span id="progressLabel">Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ 1 Ğ¸Ğ· 18</span>
      <span id="progressPct">0%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill" style="width:0%"></div>
    </div>
  </div>

  <div id="quizArea"></div>

  <div class="nav-buttons" id="navButtons">
    <button class="btn btn-back" id="btnBack" disabled onclick="goBack()">â† ĞĞ°Ğ·Ğ°Ğ´</button>
    <button class="btn btn-next" id="btnNext" disabled onclick="goNext()">Ğ”Ğ°Ğ»ĞµĞµ â†’</button>
  </div>

  <div id="results">
    <div class="results-title">Ğ¢Ğ²Ğ¾Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚</div>
    <div class="results-subtitle" id="resultsSubtitle"></div>
    <div class="meta-cards" id="metaCards"></div>
    <div class="conflicts-section" id="conflictsSection" style="display:none">
      <h3>âš  ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ñ€ĞµÑ‡Ğ¸Ñ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°Ñ…</h3>
      <div id="conflictsList"></div>
    </div>
    <div class="profile-section">
      <h3>Ğ¢Ğ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</h3>
      <div id="profileBars"></div>
    </div>
    <div id="heroCards"></div>
    <div class="worst-section">
      <h3>ĞĞ°Ğ¸Ğ¼ĞµĞ½ĞµĞµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ</h3>
      <div id="worstHeroes"></div>
    </div>
    <div class="feedback-section">
      <h3>Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞµĞ½ Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ¼?</h3>
      <div class="feedback-buttons">
        <button class="fb-btn" onclick="setFeedback(this,true)">ğŸ‘ Ğ”Ğ°</button>
        <button class="fb-btn" onclick="setFeedback(this,false)">ğŸ‘ ĞĞµÑ‚</button>
      </div>
      <div class="real-main-select">
        <label>ĞšÑ‚Ğ¾ Ğ½Ğ° ÑĞ°Ğ¼Ğ¾Ğ¼ Ğ´ĞµĞ»Ğµ Ñ‚Ğ²Ğ¾Ğ¹ Ğ¼ĞµĞ¹Ğ½?</label>
        <select id="realMainSelect"><option value="">â€” Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸ â€”</option></select>
      </div>
    </div>
    <div style="text-align:center">
      <button class="export-btn" onclick="exportProfile()">ğŸ“‹ Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</button><br>
      <button class="restart-btn" onclick="restart()">ĞŸÑ€Ğ¾Ğ¹Ñ‚Ğ¸ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾</button>
    </div>
    <details class="debug-section">
      <summary>Debug: Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ»Ğ¾Ğ³ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ°</summary>
      <pre id="debugLog"></pre>
    </details>
  </div>

</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ĞšĞĞĞ¤Ğ˜Ğ“
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const CONFIG = {
  weights: [
    1.0,   // 0  Range
    1.5,   // 1  Aggression
    1.0,   // 2  Complexity
    1.0,   // 3  Team
    1.0,   // 4  Tankiness
    1.5,   // 5  Mobility
    1.0,   // 6  Burst
    1.2,   // 7  Scaling        â† NEW
    1.3,   // 8  Aim Reliance   â† NEW
    1.0,   // 9  Zoning         â† NEW
  ],

  transform: { 1:1.0, 2:2.2, 3:3.0, 4:3.8, 5:5.0 },

  primaryWeight: 0.65,
  crossWeight:   0.35,
  conflictThreshold: 2,

  confidence: {
    highThreshold:   0.8,
    mediumThreshold: 0.4,
  },

  // ĞŸĞ¾Ñ€Ğ¾Ğ³Ğ¸ Ğ´Ğ»Ñ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ñ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ
  explain: {
    matchThreshold: 0.5,   // diff â‰¤ 0.5 â†’ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚
    closeThreshold: 1.2,   // diff â‰¤ 1.2 â†’ Ğ±Ğ»Ğ¸Ğ·ĞºĞ¾
    // diff > 1.2 â†’ Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
  },
};


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ğ”ĞĞĞĞ«Ğ• Ğ“Ğ•Ğ ĞĞ•Ğ’ â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ¾ÑĞ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//
//  ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 3 Ğ¾ÑĞ¸ (Ğ±Ñ‹Ğ»Ğ¾ â†’ ÑÑ‚Ğ°Ğ»Ğ¾):
//    front â†’ scaling   (1=Ñ€Ğ°Ğ½Ğ½Ğ¸Ğ¹ Ğ´Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ñ‚Ğ¾Ñ€, 5=Ğ»ĞµĞ¹Ñ‚-Ğ³ĞµĞ¹Ğ¼ ĞºĞµÑ€Ñ€Ğ¸)
//    roam  â†’ aim       (1=Ğ°Ğ±Ğ¸Ğ»ĞºĞ¸ Ñ€ĞµÑˆĞ°ÑÑ‚, 5=Ğ°Ğ¸Ğ¼ = Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ)
//    flash â†’ zoning    (1=Ñ„Ğ»Ğ°Ğ½Ğ³Ğ¸/ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ°, 5=ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸)

const HERO_DATA = [
  //                        Range Aggr Compl Team Tank Mobil Burst  Scal  Aim  Zone
  { name:"Abrams",      range:1, aggr:5, compl:1, team:2, tank:5, mobil:3, burst:3, scaling:3, aim:2, zoning:1 },
  { name:"Bebop",       range:3, aggr:3, compl:3, team:4, tank:3, mobil:2, burst:4, scaling:4, aim:2, zoning:4 },
  { name:"Dynamo",      range:2, aggr:2, compl:3, team:5, tank:4, mobil:2, burst:3, scaling:5, aim:1, zoning:4 },
  { name:"Grey Talon",  range:5, aggr:2, compl:2, team:2, tank:1, mobil:2, burst:3, scaling:3, aim:5, zoning:3 },
  { name:"Haze",        range:3, aggr:4, compl:3, team:1, tank:1, mobil:3, burst:4, scaling:5, aim:5, zoning:1 },
  { name:"Infernus",    range:2, aggr:4, compl:2, team:2, tank:3, mobil:3, burst:1, scaling:2, aim:2, zoning:3 },
  { name:"Ivy",         range:4, aggr:2, compl:3, team:5, tank:2, mobil:4, burst:2, scaling:3, aim:2, zoning:4 },
  { name:"Kelvin",      range:2, aggr:3, compl:3, team:4, tank:5, mobil:3, burst:2, scaling:2, aim:1, zoning:4 },
  { name:"Lady Geist",  range:3, aggr:3, compl:2, team:2, tank:3, mobil:2, burst:3, scaling:4, aim:3, zoning:3 },
  { name:"Lash",        range:2, aggr:5, compl:4, team:2, tank:2, mobil:5, burst:5, scaling:2, aim:3, zoning:1 },
  { name:"McGinnis",    range:4, aggr:1, compl:2, team:4, tank:3, mobil:1, burst:1, scaling:5, aim:2, zoning:5 },
  { name:"Mirage",      range:3, aggr:2, compl:3, team:2, tank:2, mobil:3, burst:3, scaling:4, aim:3, zoning:2 },
  { name:"Mo & Krill",  range:1, aggr:5, compl:2, team:2, tank:5, mobil:3, burst:2, scaling:2, aim:1, zoning:2 },
  { name:"Paradox",     range:3, aggr:3, compl:5, team:4, tank:2, mobil:3, burst:3, scaling:3, aim:3, zoning:3 },
  { name:"Pocket",      range:2, aggr:4, compl:3, team:2, tank:2, mobil:4, burst:5, scaling:3, aim:2, zoning:2 },
  { name:"Seven",       range:3, aggr:3, compl:3, team:4, tank:2, mobil:2, burst:2, scaling:5, aim:4, zoning:5 },
  { name:"Shiv",        range:1, aggr:5, compl:4, team:2, tank:4, mobil:3, burst:4, scaling:2, aim:2, zoning:1 },
  { name:"Vindicta",    range:5, aggr:2, compl:2, team:1, tank:1, mobil:4, burst:4, scaling:3, aim:5, zoning:3 },
  { name:"Viscous",     range:2, aggr:3, compl:3, team:5, tank:4, mobil:4, burst:2, scaling:3, aim:2, zoning:4 },
  { name:"Warden",      range:3, aggr:3, compl:2, team:4, tank:3, mobil:1, burst:2, scaling:4, aim:4, zoning:3 },
  { name:"Wraith",      range:4, aggr:3, compl:3, team:1, tank:1, mobil:4, burst:4, scaling:5, aim:5, zoning:1 },
  { name:"Yamato",      range:1, aggr:4, compl:5, team:1, tank:3, mobil:4, burst:4, scaling:3, aim:3, zoning:2 },
  { name:"Apollo",      range:2, aggr:4, compl:4, team:2, tank:2, mobil:4, burst:4, scaling:2, aim:2, zoning:1 },
  { name:"Billy",       range:2, aggr:4, compl:3, team:3, tank:3, mobil:2, burst:2, scaling:2, aim:2, zoning:3 },
  { name:"Calico",      range:2, aggr:3, compl:4, team:1, tank:1, mobil:5, burst:5, scaling:3, aim:2, zoning:1 },
  { name:"Celeste",     range:2, aggr:4, compl:2, team:3, tank:2, mobil:5, burst:4, scaling:4, aim:2, zoning:4 },
  { name:"Drifter",     range:3, aggr:3, compl:3, team:2, tank:3, mobil:4, burst:3, scaling:3, aim:3, zoning:2 },
  { name:"Graves",      range:2, aggr:2, compl:1, team:4, tank:1, mobil:2, burst:2, scaling:4, aim:1, zoning:4 },
  { name:"Holliday",    range:2, aggr:4, compl:5, team:4, tank:1, mobil:5, burst:3, scaling:3, aim:3, zoning:4 },
  { name:"Mina",        range:2, aggr:5, compl:4, team:2, tank:1, mobil:3, burst:4, scaling:3, aim:3, zoning:1 },
  { name:"Paige",       range:5, aggr:1, compl:2, team:5, tank:2, mobil:1, burst:1, scaling:4, aim:1, zoning:5 },
  { name:"Rem",         range:3, aggr:2, compl:4, team:5, tank:1, mobil:4, burst:2, scaling:3, aim:2, zoning:4 },
  { name:"Silver",      range:4, aggr:2, compl:3, team:4, tank:2, mobil:3, burst:3, scaling:4, aim:3, zoning:3 },
  { name:"Sinclair",    range:3, aggr:3, compl:5, team:3, tank:1, mobil:3, burst:5, scaling:4, aim:2, zoning:4 },
  { name:"The Doorman", range:3, aggr:1, compl:4, team:4, tank:1, mobil:4, burst:2, scaling:3, aim:2, zoning:4 },
  { name:"Venator",     range:3, aggr:2, compl:1, team:3, tank:2, mobil:2, burst:4, scaling:4, aim:5, zoning:3 },
  { name:"Victor",      range:1, aggr:4, compl:2, team:4, tank:4, mobil:2, burst:2, scaling:5, aim:2, zoning:4 },
  { name:"Vyper",       range:3, aggr:5, compl:2, team:2, tank:1, mobil:4, burst:3, scaling:4, aim:4, zoning:2 },
];

const AXES_KEYS = ['range','aggr','compl','team','tank','mobil','burst','scaling','aim','zoning'];
const AXES_RU   = ['Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ','ĞĞ³Ñ€ĞµÑÑĞ¸Ñ','Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ','ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾ÑÑ‚ÑŒ','Ğ–Ğ¸Ğ²ÑƒÑ‡ĞµÑÑ‚ÑŒ','ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ','Burst ÑƒÑ€Ğ¾Ğ½','Ğ¡ĞºĞµĞ¹Ğ»Ğ¸Ğ½Ğ³','Ğ—Ğ°Ğ²Ğ¸Ñ. Ğ¾Ñ‚ Ğ°Ğ¸Ğ¼Ğ°','ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Ğ·Ğ¾Ğ½Ñ‹'];


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ğ’ĞĞŸĞ ĞĞ¡Ğ« â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ Q8, Q9, Q10, Q11, Q16
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const QUESTIONS = [
  // â”€â”€â”€ Primary (10) â”€â”€â”€
  { id:1, axis:0, type:"primary",
    text:"ĞĞ° ĞºĞ°ĞºĞ¾Ğ¹ Ğ´Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸ Ñ‚ĞµĞ±Ğµ ĞºĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚Ğ½ĞµĞµ ÑÑ€Ğ°Ğ¶Ğ°Ñ‚ÑŒÑÑ?",
    labels:["Ğ’Ğ¿Ğ»Ğ¾Ñ‚Ğ½ÑƒÑ","Ğ‘Ğ»Ğ¸Ğ¶Ğ½ÑÑ","Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ","Ğ”Ğ°Ğ»ÑŒĞ½ÑÑ","Ğ¡Ğ½Ğ°Ğ¹Ğ¿ĞµÑ€"] },

  { id:2, axis:1, type:"primary",
    text:"ĞšĞ¾Ğ³Ğ´Ğ° Ñ‚Ñ‹ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑˆÑŒ Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ğ´Ñ€Ğ°ĞºĞ¸ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ñ„Ğ°Ñ€Ğ¼Ğ°?",
    labels:["Ğ¤Ğ°Ñ€Ğ¼Ğ»Ñ Ğ´Ğ¾ Ğ»ĞµĞ¹Ñ‚Ğ°","Ğ¤Ğ°Ñ€Ğ¼, Ğ´ĞµÑ€ÑƒÑÑŒ Ñ€ĞµĞ´ĞºĞ¾","50 / 50","Ğ˜Ñ‰Ñƒ Ğ´Ñ€Ğ°ĞºĞ¸ Ñ‡Ğ°ÑÑ‚Ğ¾","Ğ”ĞµÑ€ÑƒÑÑŒ Ñ 1-Ğ¹ Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñ‹"] },

  { id:3, axis:2, type:"primary",
    text:"ĞšĞ°ĞºĞ¾Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° Ñ‚ĞµĞ±Ğµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚?",
    labels:["ĞŸÑ€Ğ¾ÑÑ‚ĞµĞ¹ÑˆĞ¸Ğ¹","ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹","Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹","Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹","Ğ§ĞµĞ¼ ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ Ñ‚ĞµĞ¼ Ğ»ÑƒÑ‡ÑˆĞµ"] },

  { id:4, axis:3, type:"primary",
    text:"ĞĞ°ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµĞ±Ğµ Ğ²Ğ°Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ÑŒ Ñ‚Ğ¸Ğ¼Ğ¼ĞµĞ¹Ñ‚Ğ°Ğ¼?",
    labels:["Ğ˜Ğ³Ñ€Ğ°Ñ Ğ½Ğ° ÑĞµĞ±Ñ","Ğ’ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¼ ÑĞ¾Ğ»Ğ¾","Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ","Ğ›ÑĞ±Ğ»Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ÑŒ","ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° = Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ"] },

  { id:5, axis:4, type:"primary",
    text:"ĞšĞ°Ğº Ñ‚Ñ‹ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸ÑˆÑŒÑÑ Ğº Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑƒÑ€Ğ¾Ğ½Ğ° Ğ² Ğ±Ğ¾Ñ?",
    labels:["ĞĞµ Ñ…Ğ¾Ñ‡Ñƒ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ","Ğ¡Ñ‚Ğ°Ñ€Ğ°ÑÑÑŒ Ğ¸Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ","ĞŸÑ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ ĞµÑĞ»Ğ¸ Ğ½Ğ°Ğ´Ğ¾","ĞĞ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ ÑÑ‚Ğ¾Ñ Ğ¿Ğ¾Ğ´ Ğ¾Ğ³Ğ½Ñ‘Ğ¼","Ğ¯ Ñ‚Ğ°Ğ½Ğº"] },

  { id:6, axis:5, type:"primary",
    text:"ĞšĞ°Ğº Ñ‚Ñ‹ Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ĞµÑˆÑŒÑÑ Ğ² Ğ±Ğ¾Ñ?",
    labels:["Ğ¡Ñ‚Ğ¾Ñ Ğ½Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸","Ğ”Ğ²Ğ¸Ğ³Ğ°ÑÑÑŒ Ğ¼Ğ°Ğ»Ğ¾","ĞŸĞ¾ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸","ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ğ´Ğ²Ğ¸Ğ³Ğ°ÑÑÑŒ","ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾ Ğ»ĞµÑ‚Ğ°Ñ/Ğ´ÑÑˆÑƒ"] },

  { id:7, axis:6, type:"primary",
    text:"ĞšĞ°Ğº Ñ‚ĞµĞ±Ğµ Ğ½Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑÑ Ğ½Ğ°Ğ½Ğ¾ÑĞ¸Ñ‚ÑŒ ÑƒÑ€Ğ¾Ğ½?",
    labels:["DoT / Ğ¸Ğ·Ğ¼Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ","Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ½","Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸","Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ±Ğ¾","ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ burst"] },

  // â† NEW: Scaling (Ğ±Ñ‹Ğ»Ğ¾ Frontline)
  { id:8, axis:7, type:"primary",
    text:"Ğ’ ĞºĞ°ĞºĞ¾Ğ¹ ÑÑ‚Ğ°Ğ´Ğ¸Ğ¸ Ğ¸Ğ³Ñ€Ñ‹ Ñ‚Ñ‹ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑˆÑŒ ÑĞµĞ±Ñ ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ Ğ²ÑĞµĞ³Ğ¾?",
    labels:["Ğ Ğ°Ğ½Ğ½ÑÑ, Ğ´Ğ¾Ğ¼Ğ¸Ğ½Ğ¸Ñ€ÑƒÑ","Ğ Ğ°Ğ½Ğ½Ğµ-ÑÑ€ĞµĞ´Ğ½ÑÑ","Ğ¡ĞµÑ€ĞµĞ´Ğ¸Ğ½Ğ° Ğ¸Ğ³Ñ€Ñ‹","ĞŸĞ¾Ğ·Ğ´Ğ½Ğµ-ÑÑ€ĞµĞ´Ğ½ÑÑ","Ğ›ĞµĞ¹Ñ‚, Ñ Ğ¼Ğ¾Ğ½ÑÑ‚Ñ€"] },

  // â† NEW: Aim Reliance (Ğ±Ñ‹Ğ»Ğ¾ Roam)
  { id:9, axis:8, type:"primary",
    text:"Ğ§Ñ‚Ğ¾ Ğ´Ğ»Ñ Ñ‚ĞµĞ±Ñ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ Ğ² Ğ±Ğ¾Ñ â€” Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ ÑÑ‚Ñ€ĞµĞ»ÑŒĞ±Ğ° Ğ¸Ğ»Ğ¸ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸?",
    labels:["Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ€ĞµÑˆĞ°ÑÑ‚","Ğ‘Ğ¾Ğ»ÑŒÑˆĞµ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸","Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ","Ğ‘Ğ¾Ğ»ÑŒÑˆĞµ ÑÑ‚Ñ€ĞµĞ»ÑŒĞ±Ğ°","ĞĞ¸Ğ¼ = Ğ¼Ğ¾Ñ‘ Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ"] },

  // â† NEW: Zoning (Ğ±Ñ‹Ğ»Ğ¾ Flashy)
  { id:10, axis:9, type:"primary",
    text:"ĞšĞ°Ğº Ñ‚Ñ‹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€ÑƒĞµÑˆÑŒ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²Ğ¾ Ğ² Ğ±Ğ¾Ñ?",
    labels:["Ğ¤Ğ»Ğ°Ğ½Ğ³Ğ¸, Ğ¾Ğ±Ñ…Ğ¾Ğ´Ñ‹","Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ","ĞŸĞ¾ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸","Ğ”Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ·Ğ¾Ğ½Ñƒ","ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸"] },

  // â”€â”€â”€ Cross-checks (8) â”€â”€â”€

  // â† NEW: Deadlock-specific Ğ²Ğ¼ĞµÑÑ‚Ğ¾ "Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑˆÑƒÑ‚ĞµÑ€Ğ¾Ğ²"
  { id:11, axis:0, type:"cross",
    text:"Ğ’ ĞºĞ°ĞºĞ¾Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ±Ğ¾Ñ Ñ‚Ñ‹ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑˆÑŒ ÑĞµĞ±Ñ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½ĞµĞµ Ğ²ÑĞµĞ³Ğ¾?",
    labels:["Ğ’Ñ€Ğ°Ğ³ Ğ¿ĞµÑ€ĞµĞ´Ğ¾ Ğ¼Ğ½Ğ¾Ğ¹","ĞĞ° Ğ¿Ğ°Ñ€Ñƒ Ğ´ÑÑˆĞµĞ¹","Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ´Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ","Ğ’Ğ¸Ğ¶Ñƒ Ğ¸Ğ·Ğ´Ğ°Ğ»ĞµĞºĞ°","Ğ’Ñ€Ğ°Ğ³ Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ³Ğ´Ğµ Ñ"] },

  { id:12, axis:1, type:"cross",
    text:"Ğ’Ñ€Ğ°Ğ³ Ñ Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¼ HP ÑƒĞ±ĞµĞ³Ğ°ĞµÑ‚ Ğ·Ğ° Ğ²Ñ‹ÑˆĞºÑƒ. Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ?",
    labels:["ĞÑ‚Ğ¿ÑƒÑĞºĞ°Ñ","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ğ¾Ñ‚Ğ¿ÑƒÑ‰Ñƒ","Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ğ´Ğ°Ğ¹Ğ²Ğ½Ñƒ","Ğ”Ğ°Ğ¹Ğ²Ğ»Ñ 100%"] },

  { id:13, axis:4, type:"cross",
    text:"Ğ¢Ñ‹ ÑƒĞ¼ĞµÑ€ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¼, Ğ½Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ²Ñ‹Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ° Ğ±Ğ¾Ğ¹. Ğ ĞµĞ°ĞºÑ†Ğ¸Ñ?",
    labels:["Ğ Ğ°Ğ·Ğ´Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚","ĞĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ½ĞµĞ¿Ñ€Ğ¸ÑÑ‚Ğ½Ğ¾","ĞĞµĞ¹Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾","ĞĞ¾Ñ€Ğ¼, Ğ±Ñ‹Ğ» Ğ¿Ğ¾Ğ»ĞµĞ·ĞµĞ½","ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾, Ğ¿Ğ¾Ğ¼Ğ¾Ğ³"] },

  { id:14, axis:3, type:"cross",
    text:"Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ½Ğ¾ÑĞ¸Ñ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ ÑƒĞ´Ğ¾Ğ²Ğ¾Ğ»ÑŒÑÑ‚Ğ²Ğ¸Ñ?",
    labels:["4 Ñ„Ñ€Ğ°Ğ³Ğ° ÑĞ°Ğ¼Ğ¾Ğ¼Ñƒ","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ„Ñ€Ğ°Ğ³Ğ¸","ĞĞ±Ğ° Ğ¾Ğ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ğ¾","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğ¹ setup","Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°ÑÑĞ¸ÑÑ‚"] },

  { id:15, axis:2, type:"cross",
    text:"ĞÑ€Ğ°Ğ²Ğ¸Ñ‚ÑÑ Ğ¸Ğ·ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ½ĞµĞ¾Ñ‡ĞµĞ²Ğ¸Ğ´Ğ½Ñ‹Ğµ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ¸ Ğ¸ ĞºĞ¾Ğ¼Ğ±Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²?",
    labels:["ĞĞµÑ‚, Ğ¸Ğ½Ñ‚ÑƒĞ¸Ñ‚Ğ¸Ğ²Ğ½Ğ¾","Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ğ¸Ğ·ÑƒÑ‡Ñƒ","Ğ˜Ğ½Ğ¾Ğ³Ğ´Ğ° Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ğ¾","Ğ›ÑĞ±Ğ»Ñ Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ñ„Ğ¸ÑˆĞºĞ¸","Ğ¡Ğ°Ğ¼Ğ¾Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ğ¾Ğµ!"] },

  // â† NEW: Zoning cross (Ğ±Ñ‹Ğ»Ğ¾ Flashy cross)
  { id:16, axis:9, type:"cross",
    text:"Ğ§Ñ‚Ğ¾ Ñ‚ĞµĞ±Ğµ Ğ±Ğ»Ğ¸Ğ¶Ğµ Ğ¿Ğ¾ Ğ´ÑƒÑ…Ñƒ?",
    labels:["ĞĞ°Ğ¿Ğ°Ğ´Ğ°Ñ‚ÑŒ, Ğ¸ÑĞºĞ°Ñ‚ÑŒ ÑƒĞ³Ğ»Ñ‹","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ğ°Ñ‚Ğ°ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ","Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸","Ğ”ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ·Ğ¾Ğ½Ñƒ, Ğ¶Ğ´Ğ°Ñ‚ÑŒ","ĞœĞ¾Ñ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ, Ğ²Ñ€Ğ°Ğ³ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´Ñ‘Ñ‚"] },

  { id:17, axis:5, type:"cross",
    text:"ĞœĞµĞ¶Ğ´Ñƒ Ğ±Ğ¾ÑĞ¼Ğ¸, ĞºĞ¾Ğ³Ğ´Ğ° Ğ½ĞµÑ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ñ†ĞµĞ»Ğ¸, Ñ‚Ñ‹ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾:",
    labels:["Ğ¡Ñ‚Ğ¾Ñ Ğ½Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸","Ğ”ĞµÑ€Ğ¶Ñƒ Ğ·Ğ¾Ğ½Ñƒ","Ğ˜ Ñ‚Ğ¾ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğµ","ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ÑÑÑŒ","Ğ‘ĞµĞ³Ñƒ, Ğ½Ğµ Ğ¼Ğ¾Ğ³Ñƒ ÑÑ‚Ğ¾ÑÑ‚ÑŒ"] },

  { id:18, axis:6, type:"cross",
    text:"ĞšĞ°ĞºĞ¾Ğ¹ Ğ±Ğ¾Ğ¹ Ñ‚ĞµĞ±Ğµ Ğ½Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑÑ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ?",
    labels:["Ğ”Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹, Ğ½Ğ°Ğ¿Ñ€ÑĞ¶Ñ‘Ğ½Ğ½Ñ‹Ğ¹","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹","Ğ‘ĞµĞ· Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñ‹","Ğ¡ĞºĞ¾Ñ€ĞµĞµ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹","Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹, Ğ¾Ğ´Ğ¸Ğ½ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚"] },
];


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ENGINE â€” Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const Engine = {

  transform(value) {
    return CONFIG.transform[Math.round(value)] ?? value;
  },

  transformVector(vec) {
    return vec.map(v => this.transform(v));
  },

  weightedDistance(a, b) {
    let sum = 0;
    for (let i = 0; i < a.length; i++) {
      sum += CONFIG.weights[i] * (a[i] - b[i]) ** 2;
    }
    return Math.sqrt(sum);
  },

  maxDistance() {
    const maxDiff = this.transform(5) - this.transform(1);
    return Math.sqrt(CONFIG.weights.reduce((s, w) => s + w * maxDiff * maxDiff, 0));
  },

  buildRawProfile(answers) {
    const primary = new Array(10).fill(null);
    const cross   = new Array(10).fill(null);

    QUESTIONS.forEach(q => {
      const val = answers[q.id];
      if (val == null) return;
      if (q.type === 'primary') primary[q.axis] = val;
      else cross[q.axis] = val;
    });

    const profile = [];
    for (let i = 0; i < 10; i++) {
      if (primary[i] != null && cross[i] != null)
        profile.push(primary[i] * CONFIG.primaryWeight + cross[i] * CONFIG.crossWeight);
      else if (primary[i] != null) profile.push(primary[i]);
      else profile.push(3.0);
    }
    return { profile, primary, cross };
  },

  analyzeConsistency(primary, cross) {
    const conflicts = [];
    let axesWithBoth = 0;
    for (let i = 0; i < 10; i++) {
      if (primary[i] != null && cross[i] != null) {
        axesWithBoth++;
        const diff = Math.abs(primary[i] - cross[i]);
        if (diff >= CONFIG.conflictThreshold) {
          conflicts.push({ axis: i, axisName: AXES_RU[i], primary: primary[i], cross: cross[i], diff });
        }
      }
    }
    return {
      conflicts,
      consistencyScore: axesWithBoth > 0 ? Math.round((1 - conflicts.length / axesWithBoth) * 100) / 100 : 1.0,
      axesWithBoth,
    };
  },

  heroToVector(heroObj) {
    return AXES_KEYS.map(k => heroObj[k]);
  },

  // â•â•â• NEW: Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ â•â•â•
  explainMatch(rawPlayerVec, heroName) {
    const heroObj = HERO_DATA.find(h => h.name === heroName);
    const heroVec = this.heroToVector(heroObj);

    const axes = rawPlayerVec.map((pVal, i) => {
      const hVal = heroVec[i];
      const diff = Math.abs(pVal - hVal);

      let status, icon;
      if (diff <= CONFIG.explain.matchThreshold) { status = 'match'; icon = 'âœ…'; }
      else if (diff <= CONFIG.explain.closeThreshold) { status = 'close'; icon = 'ğŸŸ¡'; }
      else { status = 'off'; icon = 'âŒ'; }

      return { name: AXES_RU[i], playerVal: pVal, heroVal: hVal, diff, status, icon };
    });

    // Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°: ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ â†’ Ğ±Ğ»Ğ¸Ğ·ĞºĞ¾ â†’ Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ
    const order = { match: 0, close: 1, off: 2 };
    axes.sort((a, b) => order[a.status] - order[b.status] || a.diff - b.diff);

    return {
      axes,
      matchCount: axes.filter(a => a.status === 'match').length,
      closeCount: axes.filter(a => a.status === 'close').length,
      offCount:   axes.filter(a => a.status === 'off').length,
    };
  },

  // â•â•â• ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ â•â•â•
  calculate(answers) {
    const log = [];
    log.push('=== DEADLOCK MATCHING ENGINE v2 ===');
    log.push(`Timestamp: ${new Date().toISOString()}`);
    log.push(`Axes: ${AXES_KEYS.join(', ')}`);
    log.push('');

    const { profile: rawProfile, primary, cross } = this.buildRawProfile(answers);
    log.push('--- Raw Profile ---');
    AXES_RU.forEach((name, i) => {
      log.push(`  ${name}: ${rawProfile[i].toFixed(2)}  (primary=${primary[i]??'â€”'}, cross=${cross[i]??'â€”'})`);
    });
    log.push('');

    const playerVec = this.transformVector(rawProfile);
    log.push('--- Transformed Profile ---');
    AXES_RU.forEach((name, i) => {
      log.push(`  ${name}: ${rawProfile[i].toFixed(2)} â†’ ${playerVec[i].toFixed(2)}  (w=${CONFIG.weights[i]})`);
    });
    log.push('');

    const consistency = this.analyzeConsistency(primary, cross);
    log.push('--- Consistency ---');
    log.push(`  Score: ${consistency.consistencyScore}  Conflicts: ${consistency.conflicts.length}/${consistency.axesWithBoth}`);
    consistency.conflicts.forEach(c => log.push(`    âš  ${c.axisName}: ${c.primary} vs ${c.cross}`));
    log.push('');

    const maxDist = this.maxDistance();
    log.push(`--- Hero Matching (maxDist=${maxDist.toFixed(3)}) ---`);

    const heroResults = HERO_DATA.map(hero => {
      const heroVec = this.transformVector(this.heroToVector(hero));
      const dist = this.weightedDistance(playerVec, heroVec);
      const compatibility = Math.max(0, Math.min(100, Math.round((1 - dist / maxDist) * 1000) / 10));
      log.push(`  ${hero.name.padEnd(14)} dist=${dist.toFixed(3)}  compat=${compatibility}%`);
      return { name: hero.name, distance: dist, compatibility };
    });

    heroResults.sort((a, b) => a.distance - b.distance);
    log.push('');

    const best = heroResults[0], second = heroResults[1];
    const delta = second.distance - best.distance;

    let confidenceLevel, confidenceLabel;
    if (delta >= CONFIG.confidence.highThreshold) { confidenceLevel = 'high'; confidenceLabel = 'Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ'; }
    else if (delta >= CONFIG.confidence.mediumThreshold) { confidenceLevel = 'medium'; confidenceLabel = 'Ğ¡Ğ¼ĞµÑˆĞ°Ğ½Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ¸Ğ»ÑŒ'; }
    else { confidenceLevel = 'hybrid'; confidenceLabel = 'Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ñ‹Ğ¹'; }

    if (consistency.consistencyScore < 0.7 && confidenceLevel === 'high') {
      confidenceLevel = 'medium';
      confidenceLabel = 'Ğ¡Ğ¼ĞµÑˆĞ°Ğ½Ğ½Ñ‹Ğ¹ (ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ñ‹)';
      log.push('  âš  Confidence downgraded: low consistency');
    }

    log.push(`--- Confidence: ${confidenceLevel} (Î”=${delta.toFixed(3)}) ---`);
    log.push(`  #1 ${best.name} ${best.compatibility}%`);
    log.push(`  #2 ${second.name} ${second.compatibility}%`);

    // ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ñ‚Ğ¾Ğ¿-5
    const alternatives = heroResults.slice(0, 5).map(h => ({
      name: h.name,
      compatibility: h.compatibility,
      explain: this.explainMatch(rawProfile, h.name),
    }));

    return {
      bestHero: best.name,
      compatibility: best.compatibility,
      confidence: { level: confidenceLevel, label: confidenceLabel, delta: Math.round(delta * 1000) / 1000 },
      consistency: { score: consistency.consistencyScore, conflicts: consistency.conflicts },
      alternatives,
      worst: heroResults.slice(-3).map(h => ({ name: h.name, compatibility: h.compatibility })),
      playerVector: rawProfile,
      playerVectorTransformed: playerVec,
      conflictedAxes: consistency.conflicts.map(c => c.axis),
      log: log.join('\n'),
    };
  },
};


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UI STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

let currentQ = 0;
let answers = {};
let lastResult = null;


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  QUIZ RENDERING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function renderQuestion(idx) {
  const q = QUESTIONS[idx];
  const selected = answers[q.id] || 0;

  let opts = '';
  for (let v = 1; v <= 5; v++) {
    opts += `
      <div class="scale-option ${selected===v?'selected':''}"
           onclick="selectAnswer(${q.id},${v},this)">
        <div class="scale-option-btn">${v}</div>
        <div class="scale-option-label">${q.labels[v-1]}</div>
      </div>`;
  }

  document.getElementById('quizArea').innerHTML = `
    <div class="question-card">
      <div class="question-number">Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ ${idx+1} / 18 ${q.type==='cross'?'Â· ÑƒÑ‚Ğ¾Ñ‡Ğ½ÑÑÑ‰Ğ¸Ğ¹':''}</div>
      <div class="question-text">${q.text}</div>
      <div class="scale-container">${opts}</div>
    </div>`;

  updateProgress();
  document.getElementById('btnBack').disabled = (idx === 0);
  document.getElementById('btnNext').disabled = !answers[q.id];
  document.getElementById('btnNext').textContent =
    (idx === QUESTIONS.length-1 && answers[q.id]) ? 'ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ â†’' : 'Ğ”Ğ°Ğ»ĞµĞµ â†’';
}

function selectAnswer(qId, value, el) {
  answers[qId] = value;
  el.parentNode.querySelectorAll('.scale-option').forEach(s => s.classList.remove('selected'));
  el.classList.add('selected');
  document.getElementById('btnNext').disabled = false;
  updateProgress();
  if (currentQ === QUESTIONS.length-1)
    document.getElementById('btnNext').textContent = 'ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ â†’';
}

function updateProgress() {
  const count = Object.keys(answers).length;
  const pct = Math.round((count/18)*100);
  document.getElementById('progressLabel').textContent = `Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ ${currentQ+1} Ğ¸Ğ· 18`;
  document.getElementById('progressPct').textContent = `${pct}%`;
  document.getElementById('progressFill').style.width = `${pct}%`;
}

function goNext() {
  if (currentQ < QUESTIONS.length-1) { currentQ++; renderQuestion(currentQ); window.scrollTo({top:0,behavior:'smooth'}); }
  else showResults();
}

function goBack() {
  if (currentQ > 0) { currentQ--; renderQuestion(currentQ); }
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RESULTS RENDERING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function showResults() {
  document.getElementById('quizArea').style.display = 'none';
  document.getElementById('navButtons').style.display = 'none';
  document.getElementById('progressWrap').style.display = 'none';

  const result = Engine.calculate(answers);
  lastResult = result;

  // Subtitle
  document.getElementById('resultsSubtitle').textContent =
    `${result.bestHero} Â· ${result.compatibility}% ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ`;

  // Meta cards
  const confClass = `confidence-${result.confidence.level}`;
  const consClass = result.consistency.score >= 0.85 ? 'consistency-good'
    : result.consistency.score >= 0.6 ? 'consistency-ok' : 'consistency-conflict';
  const consLabel = result.consistency.score >= 0.85 ? 'Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ'
    : result.consistency.score >= 0.6 ? 'Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ' : 'ĞĞ¸Ğ·ĞºĞ°Ñ';

  document.getElementById('metaCards').innerHTML = `
    <div class="meta-card">
      <div class="meta-card-label">Ğ£Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ</div>
      <div class="meta-card-value ${confClass}">${result.confidence.label}</div>
      <div class="meta-card-hint">Î” = ${result.confidence.delta.toFixed(2)}</div>
    </div>
    <div class="meta-card">
      <div class="meta-card-label">Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ</div>
      <div class="meta-card-value ${consClass}">${consLabel} (${Math.round(result.consistency.score*100)}%)</div>
      <div class="meta-card-hint">${result.consistency.conflicts.length} ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚(Ğ¾Ğ²)</div>
    </div>
    <div class="meta-card">
      <div class="meta-card-label">Ğ¡Ğ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ</div>
      <div class="meta-card-value" style="color:#f5c542">${result.compatibility}%</div>
      <div class="meta-card-hint">Ñ ${result.bestHero}</div>
    </div>`;

  // Conflicts
  const cEl = document.getElementById('conflictsSection');
  if (result.consistency.conflicts.length > 0) {
    cEl.style.display = 'block';
    document.getElementById('conflictsList').innerHTML =
      result.consistency.conflicts.map(c => `
        <div class="conflict-item">
          <span class="conflict-icon">âš </span>
          <span class="conflict-axis">${c.axisName}</span>
          <span class="conflict-detail">ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹: ${c.primary} â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğ¹: ${c.cross} (Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° ${c.diff})</span>
        </div>`).join('');
  } else { cEl.style.display = 'none'; }

  // Profile
  document.getElementById('profileBars').innerHTML =
    result.playerVector.map((val, i) => {
      const isConf = result.conflictedAxes.includes(i);
      const wLabel = CONFIG.weights[i] !== 1.0 ? `Ã—${CONFIG.weights[i]}` : '';
      return `
        <div class="profile-axis">
          <span class="axis-name">${AXES_RU[i]}</span>
          <div class="axis-bar-bg">
            <div class="axis-bar-fill ${isConf?'conflicted':''}" style="width:${(val/5)*100}%"></div>
          </div>
          <span class="axis-value">${val.toFixed(1)}</span>
          <span class="axis-weight">${wLabel}</span>
        </div>`;
    }).join('');

  // Hero cards with explanations
  document.getElementById('heroCards').innerHTML =
    result.alternatives.map((h, i) => {
      const exp = h.explain;
      const summaryText = `Ğ¡Ğ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚: ${exp.matchCount}  Ğ‘Ğ»Ğ¸Ğ·ĞºĞ¾: ${exp.closeCount}  Ğ Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ: ${exp.offCount}`;

      const explainRows = exp.axes.map(a => `
        <div class="explain-row">
          <span class="explain-icon">${a.icon}</span>
          <span class="explain-axis-name">${a.name}</span>
          <span class="explain-values">
            Ñ‚Ñ‹: <span class="explain-player">${a.playerVal.toFixed(1)}</span>
            <span style="color:#444">â”‚</span>
            Ğ³ĞµÑ€Ğ¾Ğ¹: <span class="explain-hero">${a.heroVal}</span>
          </span>
          <span class="explain-diff">Î” ${a.diff.toFixed(1)}</span>
        </div>`).join('');

      return `
        <div class="hero-entry ${i===0?'top-pick':''}">
          <div class="hero-card">
            <div class="hero-rank">${i+1}</div>
            <div class="hero-info">
              <div class="hero-name">${h.name}</div>
              <div class="hero-match-bar-bg">
                <div class="hero-match-bar-fill" style="width:${h.compatibility}%"></div>
              </div>
            </div>
            <div class="hero-pct">${h.compatibility}%</div>
          </div>
          <div class="hero-explain-area">
            <button class="hero-explain-toggle" onclick="toggleExplain('explain-${i}',this)">
              â–¸ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ${h.name}?
            </button>
            <div class="hero-explain" id="explain-${i}" style="display:none">
              <div class="explain-summary">${summaryText}</div>
              ${explainRows}
            </div>
          </div>
        </div>`;
    }).join('');

  // Worst
  document.getElementById('worstHeroes').innerHTML =
    result.worst.map(h => `
      <div class="worst-hero"><span>âœ— ${h.name}</span><span>${h.compatibility}%</span></div>`).join('');

  // Select
  const sel = document.getElementById('realMainSelect');
  sel.innerHTML = '<option value="">â€” Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸ â€”</option>' +
    HERO_DATA.map(h=>h.name).sort().map(n=>`<option value="${n}">${n}</option>`).join('');

  // Debug
  document.getElementById('debugLog').textContent = result.log;

  document.getElementById('results').style.display = 'block';
  window.scrollTo({top:0,behavior:'smooth'});
}

function toggleExplain(id, btn) {
  const el = document.getElementById(id);
  const visible = el.style.display !== 'none';
  el.style.display = visible ? 'none' : 'block';
  btn.textContent = btn.textContent.replace(visible ? 'â–¾' : 'â–¸', visible ? 'â–¸' : 'â–¾');
}


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  UTILITIES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function setFeedback(btn, agreed) {
  document.querySelectorAll('.fb-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  console.log('ğŸ“Š Feedback:', {
    answers, agreed,
    realMain: document.getElementById('realMainSelect').value,
    result: lastResult ? { bestHero: lastResult.bestHero, compatibility: lastResult.compatibility } : null,
  });
}

function exportProfile() {
  if (!lastResult) return;
  const r = lastResult;
  const lines = [
    `ğŸ¯ Deadlock Main Test`,
    ``, `Ğ“ĞµÑ€Ğ¾Ğ¹: ${r.bestHero} (${r.compatibility}%)`,
    `Ğ£Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ: ${r.confidence.label}`,
    `Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ: ${Math.round(r.consistency.score*100)}%`,
    ``, `ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ:`,
    ...AXES_RU.map((n,i) => `  ${n}: ${r.playerVector[i].toFixed(1)}/5`),
    ``, `Ğ¢Ğ¾Ğ¿-5:`,
    ...r.alternatives.map((h,i) => `  ${i+1}. ${h.name} â€” ${h.compatibility}%`),
  ];
  navigator.clipboard.writeText(lines.join('\n'))
    .then(() => {
      const b = document.querySelector('.export-btn');
      b.textContent = 'âœ“ Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!';
      setTimeout(() => b.textContent = 'ğŸ“‹ Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ', 2000);
    }).catch(() => alert(lines.join('\n')));
}

function restart() {
  answers = {}; currentQ = 0; lastResult = null;
  document.getElementById('results').style.display = 'none';
  document.getElementById('quizArea').style.display = 'block';
  document.getElementById('navButtons').style.display = 'flex';
  document.getElementById('progressWrap').style.display = 'block';
  renderQuestion(0);
  window.scrollTo({top:0,behavior:'smooth'});
}

renderQuestion(0);
</script>
</body>
</html>
