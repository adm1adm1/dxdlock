<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deadlock ‚Äî –ù–∞–π–¥–∏ –º–µ–π–Ω–∞</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --gold:#c8a44e;--gold-light:#e8d48b;--gold-dark:#8a6d2b;
      --gold-glow:rgba(200,164,78,0.15);
      --teal:#3a8a7a;--teal-light:#5ab8a6;
      --red:#a04040;--red-light:#d06060;
      --bg-deep:#08080c;--bg-card:#0e0e14;
      --border:rgba(200,164,78,0.12);--border-hover:rgba(200,164,78,0.3);
      --text:#c8c0b0;--text-dim:#6a6458;--text-muted:#4a453d;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:var(--bg-deep);color:var(--text);min-height:100vh;overflow-x:hidden}
    body::before{content:'';position:fixed;inset:0;background:radial-gradient(ellipse at 50% 0%,rgba(200,164,78,.04) 0%,transparent 60%),radial-gradient(ellipse at 0% 100%,rgba(58,138,122,.03) 0%,transparent 50%);pointer-events:none;z-index:0}
    .container{position:relative;z-index:1;max-width:760px;margin:0 auto;padding:40px 20px 80px}

    .header{text-align:center;margin-bottom:48px}
    .header-emblem::before{content:'‚óÜ';font-size:36px;color:var(--gold);text-shadow:0 0 30px rgba(200,164,78,.3)}
    .header h1{font-family:'Cinzel',serif;font-size:2.2rem;font-weight:900;letter-spacing:5px;text-transform:uppercase;color:var(--gold);text-shadow:0 0 40px rgba(200,164,78,.2);margin-top:12px}
    .header-subtitle{font-family:'Cinzel',serif;font-size:.8rem;letter-spacing:3px;text-transform:uppercase;color:var(--gold-dark);margin-top:6px}
    .deco-line{display:flex;align-items:center;justify-content:center;gap:12px;margin:16px 0}
    .deco-line::before,.deco-line::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,transparent,var(--gold-dark),transparent)}
    .deco-diamond{width:6px;height:6px;background:var(--gold-dark);transform:rotate(45deg);flex-shrink:0}
    .header p{margin-top:12px;color:var(--text-dim);font-size:.85rem;letter-spacing:1px}

    .progress-wrap{margin-bottom:32px}
    .progress-info{display:flex;justify-content:space-between;font-size:.72rem;color:var(--text-dim);margin-bottom:8px;font-family:'Cinzel',serif;letter-spacing:1px;text-transform:uppercase}
    .progress-bar{width:100%;height:3px;background:rgba(200,164,78,.1);overflow:hidden}
    .progress-fill{height:100%;background:linear-gradient(90deg,var(--gold-dark),var(--gold),var(--gold-dark));transition:width .4s ease}

    .question-card{background:var(--bg-card);border:1px solid var(--border);padding:32px 28px;margin-bottom:20px}
    .question-number{font-family:'Cinzel',serif;font-size:.68rem;font-weight:700;color:var(--gold-dark);text-transform:uppercase;letter-spacing:2px;margin-bottom:14px}
    .question-text{font-size:1.05rem;font-weight:600;line-height:1.6;margin-bottom:28px}

    .scale-container{display:flex;gap:8px;justify-content:center}
    .scale-option{display:flex;flex-direction:column;align-items:center;flex:1;max-width:130px;cursor:pointer}
    .scale-option-btn{width:54px;height:54px;border-radius:10px;border:1px solid rgba(200,164,78,.12);background:rgba(200,164,78,.03);color:var(--text-dim);font-family:'Cinzel',serif;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;margin-bottom:8px}
    .scale-option:hover .scale-option-btn{border-color:var(--gold-dark);background:rgba(200,164,78,.08);color:var(--gold-light);transform:translateY(-2px)}
    .scale-option.selected .scale-option-btn{border-color:var(--gold);background:rgba(200,164,78,.15);color:var(--gold);box-shadow:0 0 20px rgba(200,164,78,.12)}
    .scale-option-label{font-size:.62rem;color:var(--text-muted);text-align:center;line-height:1.3;min-height:28px;display:flex;align-items:flex-start;justify-content:center;transition:color .2s}
    .scale-option.selected .scale-option-label{color:var(--gold)}
    .scale-option:hover .scale-option-label{color:var(--text-dim)}

    .nav-buttons{display:flex;gap:12px;margin-top:16px;justify-content:center}
    .btn{padding:12px 32px;border:1px solid var(--border);font-family:'Cinzel',serif;font-size:.8rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .2s;background:transparent}
    .btn:disabled{opacity:.25;cursor:not-allowed}
    .btn-back{color:var(--text-dim);border-color:rgba(200,164,78,.08)}
    .btn-back:hover:not(:disabled){border-color:var(--border-hover);color:var(--text)}
    .btn-next{background:linear-gradient(180deg,rgba(200,164,78,.12),rgba(200,164,78,.04));color:var(--gold);border-color:var(--gold-dark)}
    .btn-next:hover:not(:disabled){background:linear-gradient(180deg,rgba(200,164,78,.2),rgba(200,164,78,.08));box-shadow:0 0 20px rgba(200,164,78,.1)}
    .btn-next:disabled{background:transparent;color:var(--text-muted);border-color:rgba(200,164,78,.06)}

    #results{display:none}
    .results-title{text-align:center;font-family:'Cinzel',serif;font-size:1.5rem;font-weight:900;letter-spacing:4px;text-transform:uppercase;color:var(--gold);margin-bottom:6px}
    .results-subtitle{text-align:center;color:var(--text-dim);margin-bottom:10px;font-size:.88rem}

    .meta-cards{display:flex;gap:10px;margin-bottom:24px}
    .meta-card{flex:1;background:var(--bg-card);border:1px solid var(--border);padding:16px;text-align:center}
    .meta-card-label{font-family:'Cinzel',serif;font-size:.6rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-muted);margin-bottom:6px}
    .meta-card-value{font-size:1.1rem;font-weight:700}
    .meta-card-hint{font-size:.6rem;color:var(--text-muted);margin-top:4px}
    .confidence-high{color:var(--teal-light)}.confidence-medium{color:var(--gold)}.confidence-hybrid{color:var(--red-light)}
    .consistency-good{color:var(--teal-light)}.consistency-ok{color:var(--gold)}.consistency-conflict{color:var(--red-light)}

    .conflicts-section{background:rgba(160,64,64,.05);border:1px solid rgba(160,64,64,.15);padding:16px 20px;margin-bottom:24px}
    .conflicts-section h3{font-family:'Cinzel',serif;font-size:.7rem;text-transform:uppercase;letter-spacing:2px;color:var(--red-light);margin-bottom:10px}
    .conflict-item{display:flex;align-items:center;gap:10px;padding:6px 0;border-bottom:1px solid rgba(160,64,64,.08);font-size:.78rem}
    .conflict-item:last-child{border-bottom:none}
    .conflict-axis{color:var(--text);width:100px;flex-shrink:0}
    .conflict-detail{color:var(--text-dim);flex:1}

    .section-card{background:var(--bg-card);border:1px solid var(--border);padding:24px;margin-bottom:20px}
    .section-card h3{font-family:'Cinzel',serif;font-size:.72rem;text-transform:uppercase;letter-spacing:2px;color:var(--text-dim);margin-bottom:16px}

    .profile-axis{display:flex;align-items:center;margin-bottom:8px;gap:10px}
    .axis-name{width:100px;font-size:.72rem;color:var(--text-dim);text-align:right;flex-shrink:0}
    .axis-bar-bg{flex:1;height:6px;background:rgba(200,164,78,.06);overflow:hidden}
    .axis-bar-fill{height:100%;background:linear-gradient(90deg,var(--gold-dark),var(--gold));transition:width .6s ease}
    .axis-bar-fill.conflicted{background:linear-gradient(90deg,var(--red),var(--red-light));animation:pulse-bar 1.5s ease-in-out infinite}
    @keyframes pulse-bar{0%,100%{opacity:1}50%{opacity:.5}}
    .axis-value{width:28px;font-size:.72rem;color:var(--text-dim);flex-shrink:0}
    .axis-weight{width:32px;font-size:.58rem;color:var(--text-muted);flex-shrink:0}

    .hero-entry{background:var(--bg-card);border:1px solid var(--border);margin-bottom:10px;overflow:hidden;position:relative}
    .hero-entry.top-pick{border-color:rgba(200,164,78,.3);background:linear-gradient(180deg,rgba(200,164,78,.05),var(--bg-card))}
    .hero-entry.top-pick::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--gold),transparent)}
    .hero-card{display:flex;align-items:center;padding:16px 20px 8px}
    .hero-rank{font-family:'Cinzel',serif;font-size:1.4rem;font-weight:900;color:var(--text-muted);width:40px;flex-shrink:0}
    .top-pick .hero-rank{color:var(--gold)}
    .hero-info{flex:1}
    .hero-name{font-family:'Cinzel',serif;font-size:.95rem;font-weight:700;letter-spacing:1px;margin-bottom:4px}
    .top-pick .hero-name{color:var(--gold-light)}
    .hero-match-bar-bg{height:4px;background:rgba(200,164,78,.06);overflow:hidden}
    .hero-match-bar-fill{height:100%;background:linear-gradient(90deg,var(--gold-dark),var(--gold));transition:width .8s ease}
    .hero-pct{font-family:'Cinzel',serif;font-size:1.1rem;font-weight:700;color:var(--text-dim);width:64px;text-align:right;flex-shrink:0}
    .top-pick .hero-pct{color:var(--gold)}

    .hero-explain-area{padding:0 20px 12px}
    .hero-explain-toggle{font-family:'Cinzel',serif;font-size:.6rem;letter-spacing:1px;text-transform:uppercase;color:var(--text-muted);cursor:pointer;background:none;border:none;padding:4px 0;transition:color .2s}
    .hero-explain-toggle:hover{color:var(--gold)}
    .hero-explain{margin-top:8px;padding-top:8px;border-top:1px solid var(--border)}
    .explain-summary{font-size:.68rem;color:var(--text-dim);margin-bottom:8px}
    .explain-row{display:flex;align-items:center;padding:2px 0;font-size:.68rem;gap:4px}
    .explain-icon{width:18px;text-align:center;flex-shrink:0;font-size:.78rem}
    .explain-axis-name{width:100px;color:var(--text-dim);flex-shrink:0}
    .explain-values{color:var(--text-muted);display:flex;gap:12px}
    .explain-player{color:var(--gold)}.explain-hero{color:var(--teal-light)}
    .explain-diff{color:var(--text-muted);font-size:.58rem;width:44px;text-align:right;flex-shrink:0}

    .worst-section{margin-top:24px}
    .worst-section h3{font-family:'Cinzel',serif;font-size:.7rem;text-transform:uppercase;letter-spacing:2px;color:var(--text-muted);margin-bottom:12px}
    .worst-hero{display:flex;justify-content:space-between;padding:6px 0;font-size:.78rem;color:var(--text-muted);border-bottom:1px solid rgba(200,164,78,.04)}

    .feedback-section{background:var(--bg-card);border:1px solid var(--border);padding:24px;margin-top:28px;text-align:center}
    .feedback-section h3{font-family:'Cinzel',serif;font-size:.85rem;letter-spacing:1px;margin-bottom:14px}
    .feedback-buttons{display:flex;gap:10px;justify-content:center;margin-bottom:16px}
    .fb-btn{padding:8px 24px;border:1px solid var(--border);background:transparent;color:var(--text-dim);font-family:'Inter',sans-serif;font-size:.82rem;cursor:pointer;transition:all .2s}
    .fb-btn:hover{border-color:var(--gold-dark);background:var(--gold-glow);color:var(--gold)}
    .fb-btn.active{border-color:var(--gold);background:rgba(200,164,78,.1);color:var(--gold)}
    .real-main-select{margin-top:12px}
    .real-main-select label{display:block;font-size:.78rem;color:var(--text-dim);margin-bottom:6px}
    .real-main-select select{padding:8px 14px;border:1px solid var(--border);background:var(--bg-deep);color:var(--text);font-family:'Inter',sans-serif;font-size:.82rem;width:200px;cursor:pointer;border-radius:0}

    .calibration-section{background:var(--bg-card);border:1px solid var(--border);padding:24px;margin-top:28px}
    .calibration-section h3{font-family:'Cinzel',serif;font-size:.85rem;letter-spacing:1px;color:var(--gold);margin-bottom:6px;text-align:center}
    .calibration-section .sub{font-size:.72rem;color:var(--text-dim);text-align:center;margin-bottom:20px}
    .cal-hero-select{text-align:center;margin-bottom:20px}
    .cal-hero-select select{padding:8px 14px;border:1px solid var(--border);background:var(--bg-deep);color:var(--text);font-family:'Inter',sans-serif;font-size:.82rem;width:200px;border-radius:0}
    .cal-axis-row{display:flex;align-items:center;gap:8px;margin-bottom:12px;flex-wrap:wrap}
    .cal-axis-name{width:100px;font-size:.72rem;color:var(--text-dim);text-align:right;flex-shrink:0}
    .cal-btns{display:flex;gap:4px}
    .cal-btn{width:36px;height:36px;border:1px solid rgba(200,164,78,.1);background:rgba(200,164,78,.02);color:var(--text-dim);font-family:'Cinzel',serif;font-size:.85rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s;border-radius:6px}
    .cal-btn:hover{border-color:var(--gold-dark);background:rgba(200,164,78,.08);color:var(--gold-light)}
    .cal-btn.selected{border-color:var(--gold);background:rgba(200,164,78,.15);color:var(--gold)}
    .cal-labels{display:flex;justify-content:space-between;font-size:.55rem;color:var(--text-muted);width:196px}
    .cal-submit{display:block;margin:20px auto 0;padding:10px 32px;border:1px solid var(--gold-dark);background:rgba(200,164,78,.08);color:var(--gold);font-family:'Cinzel',serif;font-size:.75rem;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .2s}
    .cal-submit:hover{background:rgba(200,164,78,.15);box-shadow:0 0 15px rgba(200,164,78,.1)}
    .cal-submit:disabled{opacity:.3;cursor:not-allowed}
    .cal-msg{text-align:center;font-size:.72rem;margin-top:10px;min-height:20px}

    .bottom-btns{text-align:center;margin-top:32px}
    .export-btn,.restart-btn{display:inline-block;padding:10px 28px;border:1px solid rgba(200,164,78,.08);background:transparent;color:var(--text-muted);font-family:'Cinzel',serif;font-size:.72rem;letter-spacing:1px;text-transform:uppercase;cursor:pointer;transition:all .2s;margin:4px}
    .export-btn:hover,.restart-btn:hover{border-color:var(--gold-dark);color:var(--gold)}

    .debug-section{margin-top:28px;background:rgba(0,0,0,.3);border:1px solid rgba(200,164,78,.04);padding:16px}
    .debug-section summary{font-size:.65rem;color:var(--text-muted);cursor:pointer;text-transform:uppercase;letter-spacing:1px}
    .debug-section pre{margin-top:10px;font-size:.6rem;color:var(--text-muted);white-space:pre-wrap;line-height:1.5}

    @media(max-width:580px){
      .header h1{font-size:1.5rem;letter-spacing:3px}
      .question-card{padding:24px 16px}
      .scale-option-btn{width:46px;height:46px;font-size:.95rem}
      .scale-option-label{font-size:.55rem}
      .scale-container{gap:4px}
      .meta-cards{flex-direction:column}
      .axis-name,.explain-axis-name,.cal-axis-name{width:80px;font-size:.65rem}
      .cal-btn{width:32px;height:32px;font-size:.75rem}
    }
  </style>
</head>
<body>
<div class="container">

  <div class="header">
    <div class="header-emblem"></div>
    <h1>Deadlock</h1>
    <div class="header-subtitle">–ù–∞–π–¥–∏ —Å–≤–æ–µ–≥–æ –º–µ–π–Ω–∞</div>
    <div class="deco-line"><div class="deco-diamond"></div></div>
    <p>20 –≤–æ–ø—Ä–æ—Å–æ–≤ ¬∑ 4 –º–∏–Ω—É—Ç—ã ¬∑ —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
  </div>

  <div class="progress-wrap" id="progressWrap">
    <div class="progress-info">
      <span id="progressLabel">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 20</span>
      <span id="progressPct">0%</span>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width:0%"></div></div>
  </div>

  <div id="quizArea"></div>

  <div class="nav-buttons" id="navButtons">
    <button class="btn btn-back" id="btnBack" disabled onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
    <button class="btn btn-next" id="btnNext" disabled onclick="goNext()">–î–∞–ª–µ–µ ‚Üí</button>
  </div>

  <div id="results">
    <div class="results-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
    <div class="results-subtitle" id="resultsSubtitle"></div>
    <div class="deco-line"><div class="deco-diamond"></div></div>
    <div class="meta-cards" id="metaCards"></div>
    <div class="conflicts-section" id="conflictsSection" style="display:none">
      <h3>‚ö† –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö</h3>
      <div id="conflictsList"></div>
    </div>
    <div class="section-card"><h3>–¢–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h3><div id="profileBars"></div></div>
    <div id="heroCards"></div>
    <div class="worst-section"><h3>–ù–∞–∏–º–µ–Ω–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ</h3><div id="worstHeroes"></div></div>

    <div class="feedback-section">
      <h3>–°–æ–≥–ª–∞—Å–µ–Ω —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º?</h3>
      <div class="feedback-buttons">
        <button class="fb-btn" onclick="setFeedback(this,true)">üëç –î–∞</button>
        <button class="fb-btn" onclick="setFeedback(this,false)">üëé –ù–µ—Ç</button>
      </div>
      <div class="real-main-select">
        <label>–ö—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ç–≤–æ–π –º–µ–π–Ω?</label>
        <select id="realMainSelect"><option value="">‚Äî –≤—ã–±–µ—Ä–∏ ‚Äî</option></select>
      </div>
    </div>

    <div class="calibration-section">
      <h3>–ü–æ–º–æ–≥–∏ –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç</h3>
      <p class="sub">–ï—Å–ª–∏ —Ç—ã –º–µ–π–Ω–∏—à—å –≥–µ—Ä–æ—è ‚Äî –æ—Ü–µ–Ω–∏ –µ–≥–æ –ø–æ –∫–∞–∂–¥–æ–π —à–∫–∞–ª–µ</p>
      <div class="cal-hero-select">
        <select id="calHeroSelect"><option value="">‚Äî –≤—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –º–µ–π–Ω–∞ ‚Äî</option></select>
      </div>
      <div id="calAxes"></div>
      <button class="cal-submit" id="calSubmitBtn" onclick="submitCalibration()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      <div class="cal-msg" id="calMsg"></div>
    </div>

    <div class="bottom-btns">
      <button class="export-btn" onclick="exportProfile()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
      <button class="restart-btn" onclick="restart()">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
    </div>

    <details class="debug-section">
      <summary>Debug: –ª–æ–≥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞</summary>
      <pre id="debugLog"></pre>
    </details>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  CONFIG
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const NUM_AXES=11,TOTAL_Q=20;
const CONFIG={
  weights:[1.0,1.5,1.0,1.0,1.0,1.5,1.0,1.2,1.3,1.0,1.0],
  transform:{1:1.0,2:2.2,3:3.0,4:3.8,5:5.0},
  primaryWeight:.65,crossWeight:.35,
  conflictThreshold:2,
  confidence:{highThreshold:.8,mediumThreshold:.4},
  explain:{matchThreshold:.5,closeThreshold:1.2},
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  HEROES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const HERO_DATA=[
  {name:"Abrams",range:1,aggr:5,compl:1,team:2,tank:5,mobil:3,burst:3,scaling:3,aim:2,zoning:1,catch:3},
  {name:"Apollo",range:2,aggr:4,compl:4,team:2,tank:2,mobil:4,burst:4,scaling:2,aim:2,zoning:1,catch:1},
  {name:"Bebop",range:3,aggr:3,compl:3,team:4,tank:3,mobil:2,burst:4,scaling:4,aim:2,zoning:4,catch:5},
  {name:"Billy",range:2,aggr:4,compl:3,team:3,tank:3,mobil:2,burst:2,scaling:2,aim:2,zoning:3,catch:3},
  {name:"Calico",range:2,aggr:3,compl:4,team:1,tank:1,mobil:5,burst:5,scaling:3,aim:2,zoning:1,catch:1},
  {name:"Celeste",range:2,aggr:4,compl:2,team:3,tank:2,mobil:5,burst:4,scaling:4,aim:2,zoning:4,catch:1},
  {name:"Drifter",range:3,aggr:3,compl:3,team:2,tank:3,mobil:4,burst:3,scaling:3,aim:3,zoning:2,catch:1},
  {name:"Dynamo",range:2,aggr:2,compl:3,team:5,tank:4,mobil:2,burst:3,scaling:5,aim:1,zoning:4,catch:4},
  {name:"Graves",range:2,aggr:2,compl:1,team:4,tank:1,mobil:2,burst:2,scaling:4,aim:1,zoning:4,catch:2},
  {name:"Grey Talon",range:5,aggr:2,compl:2,team:2,tank:1,mobil:2,burst:3,scaling:3,aim:5,zoning:3,catch:2},
  {name:"Haze",range:3,aggr:4,compl:3,team:1,tank:1,mobil:3,burst:4,scaling:4,aim:5,zoning:1,catch:2},
  {name:"Holliday",range:2,aggr:4,compl:5,team:4,tank:1,mobil:5,burst:3,scaling:3,aim:3,zoning:4,catch:5},
  {name:"Infernus",range:2,aggr:4,compl:2,team:2,tank:3,mobil:3,burst:1,scaling:2,aim:2,zoning:3,catch:1},
  {name:"Ivy",range:4,aggr:2,compl:3,team:5,tank:2,mobil:4,burst:2,scaling:3,aim:2,zoning:4,catch:3},
  {name:"Kelvin",range:2,aggr:3,compl:3,team:4,tank:5,mobil:3,burst:2,scaling:2,aim:1,zoning:4,catch:4},
  {name:"Lady Geist",range:3,aggr:3,compl:2,team:2,tank:3,mobil:2,burst:3,scaling:4,aim:3,zoning:3,catch:1},
  {name:"Lash",range:2,aggr:5,compl:4,team:3,tank:2,mobil:5,burst:5,scaling:2,aim:3,zoning:1,catch:4},
  {name:"McGinnis",range:4,aggr:1,compl:2,team:4,tank:3,mobil:1,burst:1,scaling:5,aim:2,zoning:5,catch:3},
  {name:"Mina",range:2,aggr:5,compl:4,team:2,tank:1,mobil:3,burst:4,scaling:3,aim:3,zoning:1,catch:1},
  {name:"Mirage",range:3,aggr:2,compl:3,team:2,tank:2,mobil:3,burst:3,scaling:4,aim:3,zoning:2,catch:2},
  {name:"Mo & Krill",range:1,aggr:5,compl:2,team:2,tank:5,mobil:3,burst:2,scaling:2,aim:1,zoning:2,catch:4},
  {name:"Paige",range:5,aggr:1,compl:2,team:5,tank:2,mobil:1,burst:1,scaling:4,aim:1,zoning:5,catch:4},
  {name:"Paradox",range:3,aggr:3,compl:5,team:4,tank:2,mobil:3,burst:3,scaling:3,aim:3,zoning:3,catch:5},
  {name:"Pocket",range:2,aggr:4,compl:3,team:2,tank:2,mobil:4,burst:5,scaling:3,aim:2,zoning:2,catch:1},
  {name:"Rem",range:3,aggr:2,compl:4,team:5,tank:1,mobil:4,burst:2,scaling:3,aim:2,zoning:4,catch:3},
  {name:"Seven",range:3,aggr:3,compl:3,team:4,tank:2,mobil:2,burst:2,scaling:5,aim:4,zoning:5,catch:1},
  {name:"Shiv",range:1,aggr:5,compl:4,team:2,tank:4,mobil:3,burst:4,scaling:2,aim:2,zoning:1,catch:3},
  {name:"Silver",range:4,aggr:2,compl:3,team:4,tank:2,mobil:3,burst:3,scaling:4,aim:3,zoning:3,catch:2},
  {name:"Sinclair",range:3,aggr:3,compl:5,team:3,tank:1,mobil:3,burst:5,scaling:4,aim:2,zoning:4,catch:3},
  {name:"The Doorman",range:3,aggr:1,compl:4,team:4,tank:1,mobil:4,burst:2,scaling:3,aim:2,zoning:4,catch:4},
  {name:"Venator",range:3,aggr:2,compl:1,team:3,tank:2,mobil:2,burst:4,scaling:4,aim:5,zoning:3,catch:2},
  {name:"Victor",range:1,aggr:4,compl:2,team:4,tank:4,mobil:2,burst:2,scaling:5,aim:2,zoning:4,catch:1},
  {name:"Vindicta",range:5,aggr:2,compl:2,team:1,tank:1,mobil:4,burst:4,scaling:3,aim:5,zoning:3,catch:2},
  {name:"Viscous",range:2,aggr:3,compl:3,team:5,tank:4,mobil:4,burst:2,scaling:3,aim:2,zoning:4,catch:4},
  {name:"Vyper",range:3,aggr:5,compl:2,team:2,tank:1,mobil:4,burst:3,scaling:4,aim:4,zoning:2,catch:2},
  {name:"Warden",range:3,aggr:3,compl:2,team:4,tank:3,mobil:1,burst:2,scaling:4,aim:4,zoning:3,catch:3},
  {name:"Wraith",range:4,aggr:3,compl:3,team:1,tank:1,mobil:4,burst:4,scaling:5,aim:5,zoning:1,catch:3},
  {name:"Yamato",range:1,aggr:4,compl:5,team:1,tank:3,mobil:4,burst:4,scaling:3,aim:3,zoning:2,catch:1},
];

const AXES_KEYS=['range','aggr','compl','team','tank','mobil','burst','scaling','aim','zoning','catch'];
const AXES_RU=['–î–∏—Å—Ç–∞–Ω—Ü–∏—è','–ê–≥—Ä–µ—Å—Å–∏—è','–°–ª–æ–∂–Ω–æ—Å—Ç—å','–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å','–ñ–∏–≤—É—á–µ—Å—Ç—å','–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å','Burst —É—Ä–æ–Ω','–°–∫–µ–π–ª–∏–Ω–≥','–ê–∏–º','–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–æ–Ω—ã','–°–µ—Ç–∞–ø / CC'];
const AXES_LOW=['–í–ø–ª–æ—Ç–Ω—É—é','–ü–∞—Å—Å–∏–≤–Ω—ã–π','–ü—Ä–æ—Å—Ç–æ–π','–°–æ–ª–æ','–°—Ç–µ–∫–ª–æ','–°—Ç–∞—Ç–∏—á–Ω—ã–π','DoT','–†–∞–Ω–Ω–∏–π','–ê–±–∏–ª–∫–∏','–§–ª–∞–Ω–≥–∏','–ù–µ—Ç CC'];
const AXES_HIGH=['–°–Ω–∞–π–ø–µ—Ä','–ê–≥—Ä–µ—Å—Å–æ—Ä','–•–∞—Ä–¥–∫–æ—Ä','–ö–æ–º–∞–Ω–¥–Ω—ã–π','–¢–∞–Ω–∫','–ú–æ–±–∏–ª—å–Ω—ã–π','–í–∞–Ω—à–æ—Ç','–õ–µ–π—Ç-–∫–µ—Ä—Ä–∏','–ß–∏—Å—Ç—ã–π –∞–∏–º','–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–æ–Ω—ã','–°–µ—Ç–∞–ø–µ—Ä'];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  QUESTIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const QUESTIONS=[
  {id:1,axis:0,type:"primary",text:"–ù–∞ –∫–∞–∫–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ —Ç–µ–±–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ —Å—Ä–∞–∂–∞—Ç—å—Å—è?",labels:["–í–ø–ª–æ—Ç–Ω—É—é","–ë–ª–∏–∂–Ω—è—è","–°—Ä–µ–¥–Ω—è—è","–î–∞–ª—å–Ω—è—è","–°–Ω–∞–π–ø–µ—Ä"]},
  {id:2,axis:1,type:"primary",text:"–ö–∞–∫ —Ä–∞–Ω–æ —Ç—ã —Ö–æ—á–µ—à—å –Ω–∞—á–∏–Ω–∞—Ç—å –¥—Ä–∞–∫–∏ –∏ –∏–≥—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–º –Ω–æ–º–µ—Ä–æ–º?",labels:["–ò–≥—Ä–∞—é —Å–∑–∞–¥–∏","–í—Ç–æ—Ä–∞—è –≤–æ–ª–Ω–∞","–ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏","–ò—â—É –¥—Ä–∞–∫–∏","–í–ª–µ—Ç–∞—é –ø–µ—Ä–≤—ã–º"]},
  {id:3,axis:2,type:"primary",text:"–ö–∞–∫–æ–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Ç–µ–±–µ –ø–æ–¥—Ö–æ–¥–∏—Ç?",labels:["–ü—Ä–æ—Å—Ç–µ–π—à–∏–π","–ü—Ä–æ—Å—Ç–æ–π","–°—Ä–µ–¥–Ω–∏–π","–°–ª–æ–∂–Ω—ã–π","–ß–µ–º —Å–ª–æ–∂–Ω–µ–µ —Ç–µ–º –ª—É—á—à–µ"]},
  {id:4,axis:3,type:"primary",text:"–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –≤–∞–∂–Ω–æ –ø–æ–º–æ–≥–∞—Ç—å —Ç–∏–º–º–µ–π—Ç–∞–º?",labels:["–ò–≥—Ä–∞—é –Ω–∞ —Å–µ–±—è","–í –æ—Å–Ω–æ–≤–Ω–æ–º —Å–æ–ª–æ","–ë–∞–ª–∞–Ω—Å","–õ—é–±–ª—é –ø–æ–º–æ–≥–∞—Ç—å","–ö–æ–º–∞–Ω–¥–∞ = –≥–ª–∞–≤–Ω–æ–µ"]},
  {id:5,axis:4,type:"primary",text:"–ö–∞–∫ —Ç—ã –æ—Ç–Ω–æ—Å–∏—à—å—Å—è –∫ –ø–æ–ª—É—á–µ–Ω–∏—é —É—Ä–æ–Ω–∞ –≤ –±–æ—é?",labels:["–ù–µ —Ö–æ—á—É –ø–æ–ª—É—á–∞—Ç—å","–°—Ç–∞—Ä–∞—é—Å—å –∏–∑–±–µ–≥–∞—Ç—å","–ü—Ä–∏–Ω–∏–º–∞—é –µ—Å–ª–∏ –Ω–∞–¥–æ","–ù–æ—Ä–º–∞–ª—å–Ω–æ –ø–æ–¥ –æ–≥–Ω—ë–º","–Ø —Ç–∞–Ω–∫"]},
  {id:6,axis:5,type:"primary",text:"–ö–∞–∫ —Ç—ã –ø–µ—Ä–µ–º–µ—â–∞–µ—à—å—Å—è –≤ –±–æ—é?",labels:["–°—Ç–æ—é –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏","–î–≤–∏–≥–∞—é—Å—å –º–∞–ª–æ","–ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏","–ê–∫—Ç–∏–≤–Ω–æ –¥–≤–∏–≥–∞—é—Å—å","–ü–æ—Å—Ç–æ—è–Ω–Ω–æ –ª–µ—Ç–∞—é"]},
  {id:7,axis:6,type:"primary",text:"–ö–∞–∫ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –Ω–∞–Ω–æ—Å–∏—Ç—å —É—Ä–æ–Ω?",labels:["DoT / –∏–∑–º–∞—Ç—ã–≤–∞—Ç—å","–°—Ç–∞–±–∏–ª—å–Ω—ã–π —É—Ä–æ–Ω","–ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏","–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–±–æ","–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π burst"]},
  {id:8,axis:7,type:"primary",text:"–í –∫–∞–∫–æ–π —Å—Ç–∞–¥–∏–∏ –∏–≥—Ä—ã —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è —Å–∏–ª—å–Ω–µ–µ –≤—Å–µ–≥–æ?",labels:["–†–∞–Ω–Ω—è—è","–†–∞–Ω–Ω–µ-—Å—Ä–µ–¥–Ω—è—è","–°–µ—Ä–µ–¥–∏–Ω–∞","–ü–æ–∑–¥–Ω–µ-—Å—Ä–µ–¥–Ω—è—è","–õ–µ–π—Ç, —è –º–æ–Ω—Å—Ç—Ä"]},
  {id:9,axis:8,type:"primary",text:"–ß—Ç–æ –¥–ª—è —Ç–µ–±—è –≤–∞–∂–Ω–µ–µ ‚Äî —Ç–æ—á–Ω–∞—è —Å—Ç—Ä–µ–ª—å–±–∞ –∏–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏?",labels:["–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏","–ë–æ–ª—å—à–µ –∞–±–∏–ª–∫–∏","–ë–∞–ª–∞–Ω—Å","–ë–æ–ª—å—à–µ —Å—Ç—Ä–µ–ª—å–±–∞","–ê–∏–º = –æ—Ä—É–∂–∏–µ"]},
  {id:10,axis:9,type:"primary",text:"–ö–∞–∫ —Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤ –±–æ—é?",labels:["–§–ª–∞–Ω–≥–∏, –æ–±—Ö–æ–¥—ã","–°–≤–æ–±–æ–¥–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ","–ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏","–î–∞–≤–ª—é –Ω–∞ –∑–æ–Ω—É","–ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏"]},
  {id:11,axis:10,type:"primary",text:"–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Å–µ—Ç–∞–ø–∏—Ç—å –≤—Ä–∞–≥–æ–≤ ‚Äî –ª–æ–≤–∏—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏?",labels:["–ù–µ –º–æ—ë","–ò–Ω–æ–≥–¥–∞ –µ—Å–ª–∏ –µ—Å—Ç—å CC","–ë–∞–ª–∞–Ω—Å —É—Ä–æ–Ω–∞ –∏ CC","–õ—é–±–ª—é –ª–æ–≤–∏—Ç—å","–°–µ—Ç–∞–ø = –≥–ª–∞–≤–Ω–æ–µ"]},
  {id:12,axis:0,type:"cross",text:"–í –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –±–æ—è —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–µ–µ –≤—Å–µ–≥–æ?",labels:["–í—Ä–∞–≥ –ø–µ—Ä–µ–¥–æ –º–Ω–æ–π","–ù–∞ –ø–∞—Ä—É –¥—ç—à–µ–π","–°—Ä–µ–¥–Ω—è—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è","–í–∏–∂—É –∏–∑–¥–∞–ª–µ–∫–∞","–í—Ä–∞–≥ –Ω–µ –∑–Ω–∞–µ—Ç –≥–¥–µ —è"]},
  {id:13,axis:1,type:"cross",text:"–í—Ä–∞–≥ —Å –Ω–∏–∑–∫–∏–º HP —É–±–µ–≥–∞–µ—Ç –∑–∞ –≤—ã—à–∫—É. –î–µ–π—Å—Ç–≤–∏—è?",labels:["–û—Ç–ø—É—Å–∫–∞—é","–°–∫–æ—Ä–µ–µ –æ—Ç–ø—É—â—É","–ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏","–°–∫–æ—Ä–µ–µ –¥–∞–π–≤–Ω—É","–î–∞–π–≤–ª—é 100%"]},
  {id:14,axis:4,type:"cross",text:"–¢—ã —É–º–µ—Ä –ø–µ—Ä–≤—ã–º, –Ω–æ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–∏–≥—Ä–∞–ª–∞ –±–æ–π. –†–µ–∞–∫—Ü–∏—è?",labels:["–†–∞–∑–¥—Ä–∞–∂–∞–µ—Ç","–ù–µ–º–Ω–æ–≥–æ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ","–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ","–ù–æ—Ä–º, –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω","–û—Ç–ª–∏—á–Ω–æ, –ø–æ–º–æ–≥"]},
  {id:15,axis:3,type:"cross",text:"–ß—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –±–æ–ª—å—à–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è?",labels:["4 —Ñ—Ä–∞–≥–∞ —Å–∞–º–æ–º—É","–°–∫–æ—Ä–µ–µ –ª–∏—á–Ω—ã–µ —Ñ—Ä–∞–≥–∏","–û–±–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ","–°–∫–æ—Ä–µ–µ setup","–ò–¥–µ–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç"]},
  {id:16,axis:2,type:"cross",text:"–ù—Ä–∞–≤–∏—Ç—Å—è –∏–∑—É—á–∞—Ç—å –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –∫–æ–º–±–æ?",labels:["–ù–µ—Ç, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ","–ë–∞–∑–æ–≤–æ–µ –∏–∑—É—á—É","–ò–Ω–æ–≥–¥–∞","–õ—é–±–ª—é —Ñ–∏—à–∫–∏","–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ!"]},
  {id:17,axis:9,type:"cross",text:"–ß—Ç–æ —Ç–µ–±–µ –±–ª–∏–∂–µ –ø–æ –¥—É—Ö—É?",labels:["–ò—Å–∫–∞—Ç—å —É–≥–ª—ã","–°–∫–æ—Ä–µ–µ –∞—Ç–∞–∫–æ–≤–∞—Ç—å","–ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏","–î–µ—Ä–∂–∞—Ç—å –∑–æ–Ω—É","–ú–æ—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è"]},
  {id:18,axis:5,type:"cross",text:"–ú–µ–∂–¥—É –±–æ—è–º–∏, –∫–æ–≥–¥–∞ –Ω–µ—Ç —Ü–µ–ª–∏, —Ç—ã –æ–±—ã—á–Ω–æ:",labels:["–°—Ç–æ—é –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏","–î–µ—Ä–∂—É –∑–æ–Ω—É","–ò —Ç–æ –∏ –¥—Ä—É–≥–æ–µ","–ü–µ—Ä–µ–º–µ—â–∞—é—Å—å","–ë–µ–≥—É, –Ω–µ —Å—Ç–æ—é"]},
  {id:19,axis:6,type:"cross",text:"–ö–∞–∫–æ–π –±–æ–π —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ?",labels:["–î–ª–∏–Ω–Ω—ã–π","–°–∫–æ—Ä–µ–µ –¥–ª–∏–Ω–Ω—ã–π","–ë–µ–∑ —Ä–∞–∑–Ω–∏—Ü—ã","–°–∫–æ—Ä–µ–µ –±—ã—Å—Ç—Ä—ã–π","–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π"]},
  {id:20,axis:10,type:"cross",text:"–¢—ã –≤–∏–¥–∏—à—å –æ–¥–∏–Ω–æ–∫–æ–≥–æ –≤—Ä–∞–≥–∞. –ß—Ç–æ –¥–µ–ª–∞–µ—à—å?",labels:["–°—Ç—Ä–µ–ª—è—é —Å—Ä–∞–∑—É","–ê—Ç–∞–∫—É—é —Å –ø–æ–∑–∏—Ü–∏–∏","–ü–æ —Å–∏—Ç—É–∞—Ü–∏–∏","–°—Ç–∞–Ω—é –ø–µ—Ä–µ–¥ –∞—Ç–∞–∫–æ–π","–õ–æ–≤–ª—é, –∑–æ–≤—É —Ç–∏–º—É"]},
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  ENGINE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const Engine={
  transform(v){return CONFIG.transform[Math.round(v)]??v},
  transformVector(v){return v.map(x=>this.transform(x))},
  weightedDistance(a,b){let s=0;for(let i=0;i<a.length;i++)s+=CONFIG.weights[i]*(a[i]-b[i])**2;return Math.sqrt(s)},
  maxDistance(){const d=this.transform(5)-this.transform(1);return Math.sqrt(CONFIG.weights.reduce((s,w)=>s+w*d*d,0))},
  buildRawProfile(ans){
    const p=new Array(NUM_AXES).fill(null),c=new Array(NUM_AXES).fill(null);
    QUESTIONS.forEach(q=>{const v=ans[q.id];if(v==null)return;if(q.type==='primary')p[q.axis]=v;else c[q.axis]=v});
    const prof=[];for(let i=0;i<NUM_AXES;i++){if(p[i]!=null&&c[i]!=null)prof.push(p[i]*CONFIG.primaryWeight+c[i]*CONFIG.crossWeight);else if(p[i]!=null)prof.push(p[i]);else prof.push(3)}
    return{profile:prof,primary:p,cross:c};
  },
  analyzeConsistency(p,c){
    const conflicts=[];let n=0;
    for(let i=0;i<NUM_AXES;i++){if(p[i]!=null&&c[i]!=null){n++;if(Math.abs(p[i]-c[i])>=CONFIG.conflictThreshold)conflicts.push({axis:i,axisName:AXES_RU[i],primary:p[i],cross:c[i],diff:Math.abs(p[i]-c[i])})}}
    return{conflicts,consistencyScore:n>0?Math.round((1-conflicts.length/n)*100)/100:1,axesWithBoth:n};
  },
  heroToVector(h){return AXES_KEYS.map(k=>h[k])},
  explainMatch(pv,name){
    const h=HERO_DATA.find(x=>x.name===name),hv=this.heroToVector(h);
    const axes=pv.map((v,i)=>{const d=Math.abs(v-hv[i]);let st,ic;if(d<=CONFIG.explain.matchThreshold){st='match';ic='‚úÖ'}else if(d<=CONFIG.explain.closeThreshold){st='close';ic='üü°'}else{st='off';ic='‚ùå'}return{name:AXES_RU[i],playerVal:v,heroVal:hv[i],diff:d,status:st,icon:ic}});
    axes.sort((a,b)=>({match:0,close:1,off:2}[a.status]-{match:0,close:1,off:2}[b.status])||a.diff-b.diff);
    return{axes,matchCount:axes.filter(a=>a.status==='match').length,closeCount:axes.filter(a=>a.status==='close').length,offCount:axes.filter(a=>a.status==='off').length};
  },
  calculate(ans){
    const log=[];
    const{profile:raw,primary:pr,cross:cr}=this.buildRawProfile(ans);
    const pVec=this.transformVector(raw);
    const con=this.analyzeConsistency(pr,cr);
    const mx=this.maxDistance();
    AXES_RU.forEach((n,i)=>log.push(`${n}: raw=${raw[i].toFixed(2)} t=${pVec[i].toFixed(2)} w=${CONFIG.weights[i]}`));
    const hr=HERO_DATA.map(h=>{const hv=this.transformVector(this.heroToVector(h));const d=this.weightedDistance(pVec,hv);const c=Math.max(0,Math.min(100,Math.round((1-d/mx)*1000)/10));return{name:h.name,distance:d,compatibility:c}});
    hr.sort((a,b)=>a.distance-b.distance);
    const delta=hr[1].distance-hr[0].distance;
    let cl,clbl;
    if(delta>=CONFIG.confidence.highThreshold){cl='high';clbl='–í—ã—Å–æ–∫–∞—è'}
    else if(delta>=CONFIG.confidence.mediumThreshold){cl='medium';clbl='–°–º–µ—à–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å'}
    else{cl='hybrid';clbl='–ì–∏–±—Ä–∏–¥–Ω—ã–π'}
    if(con.consistencyScore<.7&&cl==='high'){cl='medium';clbl='–°–º–µ—à–∞–Ω–Ω—ã–π (–∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã)'}
    const alts=hr.slice(0,5).map(h=>({name:h.name,compatibility:h.compatibility,explain:this.explainMatch(raw,h.name)}));
    return{bestHero:hr[0].name,compatibility:hr[0].compatibility,confidence:{level:cl,label:clbl,delta:Math.round(delta*1000)/1000},consistency:{score:con.consistencyScore,conflicts:con.conflicts},alternatives:alts,worst:hr.slice(-3).map(h=>({name:h.name,compatibility:h.compatibility})),playerVector:raw,conflictedAxes:con.conflicts.map(c=>c.axis),log:log.join('\n')};
  },
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  DATA LAYER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const DataLayer={
  
  ENDPOINT:'https://script.google.com/macros/s/AKfycbylq4kgeYoqZW9uDAKC2u6QJed595A9Bh6Ng4yKdDQR7tgU2htfyGOzkeP72dOgJkzn/exec',

  sessionId:crypto.randomUUID?crypto.randomUUID():'s_'+Date.now()+'_'+Math.random().toString(36).slice(2,8),

  async send(payload){
    try{
      await fetch(this.ENDPOINT,{method:'POST',mode:'no-cors',headers:{'Content-Type':'text/plain'},body:JSON.stringify(payload)});
      console.log('üìä Sent:',payload.type);
    }catch(e){
      console.warn('üìä Fail:',e);
      this.saveLocal(payload);
    }
  },
  saveLocal(p){try{const q=JSON.parse(localStorage.getItem('dl_q')||'[]');q.push(p);localStorage.setItem('dl_q',JSON.stringify(q))}catch(e){}},
  async flushLocal(){try{const q=JSON.parse(localStorage.getItem('dl_q')||'[]');if(!q.length)return;for(const p of q)await this.send(p);localStorage.removeItem('dl_q')}catch(e){}},

  sendQuizResult(r,ans){
    this.send({type:'quiz',timestamp:new Date().toISOString(),sessionId:this.sessionId,bestHero:r.bestHero,compatibility:r.compatibility,confidence:r.confidence.label,confidenceDelta:r.confidence.delta,consistency:Math.round(r.consistency.score*100),conflictsCount:r.consistency.conflicts.length,answers:ans,playerVector:r.playerVector,top5:r.alternatives.map(h=>({name:h.name,compatibility:h.compatibility})),worst3:r.worst,screenRes:`${screen.width}x${screen.height}`,url:location.href});
  },
  sendFeedback(agreed,realMain,r){
    this.send({type:'feedback',timestamp:new Date().toISOString(),sessionId:this.sessionId,bestHero:r.bestHero,compatibility:r.compatibility,agreed,realMain});
  },
  sendRealMain(realMain,r){
    this.send({type:'realMain',timestamp:new Date().toISOString(),sessionId:this.sessionId,bestHero:r.bestHero,compatibility:r.compatibility,realMain});
  },
  sendCalibration(hero,axes,r){
    this.send({type:'calibration',timestamp:new Date().toISOString(),sessionId:this.sessionId,hero,axes,testBestHero:r?r.bestHero:'',testCompatibility:r?r.compatibility:''});
  },
};
DataLayer.flushLocal();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  UI
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let currentQ=0,answers={},lastResult=null,calAnswers={};

function renderQuestion(idx){
  const q=QUESTIONS[idx],sel=answers[q.id]||0;
  let opts='';for(let v=1;v<=5;v++)opts+=`<div class="scale-option ${sel===v?'selected':''}" onclick="selectAnswer(${q.id},${v},this)"><div class="scale-option-btn">${v}</div><div class="scale-option-label">${q.labels[v-1]}</div></div>`;
  document.getElementById('quizArea').innerHTML=`<div class="question-card"><div class="question-number">–í–æ–ø—Ä–æ—Å ${idx+1} / ${TOTAL_Q} ${q.type==='cross'?'¬∑ –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π':''}</div><div class="question-text">${q.text}</div><div class="scale-container">${opts}</div></div>`;
  updateProgress();
  document.getElementById('btnBack').disabled=(idx===0);
  document.getElementById('btnNext').disabled=!answers[q.id];
  document.getElementById('btnNext').textContent=(idx===QUESTIONS.length-1&&answers[q.id])?'–£–∑–Ω–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí':'–î–∞–ª–µ–µ ‚Üí';
}

function selectAnswer(qId,val,el){
  answers[qId]=val;el.parentNode.querySelectorAll('.scale-option').forEach(s=>s.classList.remove('selected'));el.classList.add('selected');
  document.getElementById('btnNext').disabled=false;updateProgress();
  if(currentQ===QUESTIONS.length-1)document.getElementById('btnNext').textContent='–£–∑–Ω–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí';
}

function updateProgress(){
  const c=Object.keys(answers).length,p=Math.round((c/TOTAL_Q)*100);
  document.getElementById('progressLabel').textContent=`–í–æ–ø—Ä–æ—Å ${currentQ+1} –∏–∑ ${TOTAL_Q}`;
  document.getElementById('progressPct').textContent=`${p}%`;
  document.getElementById('progressFill').style.width=`${p}%`;
}

function goNext(){if(currentQ<QUESTIONS.length-1){currentQ++;renderQuestion(currentQ);window.scrollTo({top:0,behavior:'smooth'})}else showResults()}
function goBack(){if(currentQ>0){currentQ--;renderQuestion(currentQ)}}

function showResults(){
  document.getElementById('quizArea').style.display='none';
  document.getElementById('navButtons').style.display='none';
  document.getElementById('progressWrap').style.display='none';
  const r=Engine.calculate(answers);lastResult=r;

  DataLayer.sendQuizResult(r,answers);

  document.getElementById('resultsSubtitle').textContent=`${r.bestHero} ¬∑ ${r.compatibility}% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ`;
  const cc=`confidence-${r.confidence.level}`;
  const cs=r.consistency.score>=.85?'consistency-good':r.consistency.score>=.6?'consistency-ok':'consistency-conflict';
  const csL=r.consistency.score>=.85?'–í—ã—Å–æ–∫–∞—è':r.consistency.score>=.6?'–°—Ä–µ–¥–Ω—è—è':'–ù–∏–∑–∫–∞—è';
  document.getElementById('metaCards').innerHTML=`<div class="meta-card"><div class="meta-card-label">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</div><div class="meta-card-value ${cc}">${r.confidence.label}</div><div class="meta-card-hint">Œî ${r.confidence.delta.toFixed(2)}</div></div><div class="meta-card"><div class="meta-card-label">–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å</div><div class="meta-card-value ${cs}">${csL} (${Math.round(r.consistency.score*100)}%)</div><div class="meta-card-hint">${r.consistency.conflicts.length} –∫–æ–Ω—Ñ–ª–∏–∫—Ç(–æ–≤)</div></div><div class="meta-card"><div class="meta-card-label">–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ</div><div class="meta-card-value" style="color:var(--gold)">${r.compatibility}%</div><div class="meta-card-hint">—Å ${r.bestHero}</div></div>`;

  const cEl=document.getElementById('conflictsSection');
  if(r.consistency.conflicts.length>0){cEl.style.display='block';document.getElementById('conflictsList').innerHTML=r.consistency.conflicts.map(c=>`<div class="conflict-item"><span>‚ö†</span><span class="conflict-axis">${c.axisName}</span><span class="conflict-detail">–û—Å–Ω–æ–≤–Ω–æ–π: ${c.primary} ‚Üí –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π: ${c.cross} (Œî${c.diff})</span></div>`).join('')}else cEl.style.display='none';

  document.getElementById('profileBars').innerHTML=r.playerVector.map((v,i)=>{const ic=r.conflictedAxes.includes(i);const wl=CONFIG.weights[i]!==1?`√ó${CONFIG.weights[i]}`:'';return`<div class="profile-axis"><span class="axis-name">${AXES_RU[i]}</span><div class="axis-bar-bg"><div class="axis-bar-fill ${ic?'conflicted':''}" style="width:${(v/5)*100}%"></div></div><span class="axis-value">${v.toFixed(1)}</span><span class="axis-weight">${wl}</span></div>`}).join('');

  document.getElementById('heroCards').innerHTML=r.alternatives.map((h,i)=>{const ex=h.explain;const sum=`‚úÖ ${ex.matchCount}  üü° ${ex.closeCount}  ‚ùå ${ex.offCount}`;const rows=ex.axes.map(a=>`<div class="explain-row"><span class="explain-icon">${a.icon}</span><span class="explain-axis-name">${a.name}</span><span class="explain-values">—Ç—ã: <span class="explain-player">${a.playerVal.toFixed(1)}</span> <span style="color:var(--text-muted)">‚îÇ</span> –≥–µ—Ä–æ–π: <span class="explain-hero">${a.heroVal}</span></span><span class="explain-diff">Œî${a.diff.toFixed(1)}</span></div>`).join('');return`<div class="hero-entry ${i===0?'top-pick':''}"><div class="hero-card"><div class="hero-rank">${i+1}</div><div class="hero-info"><div class="hero-name">${h.name}</div><div class="hero-match-bar-bg"><div class="hero-match-bar-fill" style="width:${h.compatibility}%"></div></div></div><div class="hero-pct">${h.compatibility}%</div></div><div class="hero-explain-area"><button class="hero-explain-toggle" onclick="toggleExplain('ex-${i}',this)">‚ñ∏ –ü–æ—á–µ–º—É ${h.name}?</button><div class="hero-explain" id="ex-${i}" style="display:none"><div class="explain-summary">${sum}</div>${rows}</div></div></div>`}).join('');

  document.getElementById('worstHeroes').innerHTML=r.worst.map(h=>`<div class="worst-hero"><span>‚úó ${h.name}</span><span>${h.compatibility}%</span></div>`).join('');

  const heroNames=HERO_DATA.map(h=>h.name).sort();
  document.getElementById('realMainSelect').innerHTML='<option value="">‚Äî –≤—ã–±–µ—Ä–∏ ‚Äî</option>'+heroNames.map(n=>`<option value="${n}">${n}</option>`).join('');
  document.getElementById('calHeroSelect').innerHTML='<option value="">‚Äî –≤—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –º–µ–π–Ω–∞ ‚Äî</option>'+heroNames.map(n=>`<option value="${n}">${n}</option>`).join('');

  document.getElementById('realMainSelect').onchange=function(){if(this.value&&lastResult)DataLayer.sendRealMain(this.value,lastResult)};

  renderCalAxes();
  document.getElementById('calSubmitBtn').disabled=false;
  document.getElementById('calSubmitBtn').style.opacity='1';
  document.getElementById('calMsg').textContent='';
  document.getElementById('debugLog').textContent=r.log;
  document.getElementById('results').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}

function toggleExplain(id,btn){const el=document.getElementById(id);const v=el.style.display!=='none';el.style.display=v?'none':'block';btn.textContent=btn.textContent.replace(v?'‚ñæ':'‚ñ∏',v?'‚ñ∏':'‚ñæ')}

function renderCalAxes(){
  let html='';
  for(let i=0;i<NUM_AXES;i++){
    let btns='';for(let v=1;v<=5;v++)btns+=`<div class="cal-btn ${calAnswers[i]===v?'selected':''}" onclick="calSelect(${i},${v},this)">${v}</div>`;
    html+=`<div class="cal-axis-row"><span class="cal-axis-name">${AXES_RU[i]}</span><div class="cal-btns">${btns}</div><div class="cal-labels"><span>${AXES_LOW[i]}</span><span>${AXES_HIGH[i]}</span></div></div>`;
  }
  document.getElementById('calAxes').innerHTML=html;
}

function calSelect(axis,val,el){calAnswers[axis]=val;el.parentNode.querySelectorAll('.cal-btn').forEach(b=>b.classList.remove('selected'));el.classList.add('selected')}

function submitCalibration(){
  const hero=document.getElementById('calHeroSelect').value;
  if(!hero){document.getElementById('calMsg').textContent='–í—ã–±–µ—Ä–∏ –≥–µ—Ä–æ—è!';document.getElementById('calMsg').style.color='var(--red-light)';return}
  const filled=Object.keys(calAnswers).length;
  if(filled<NUM_AXES){document.getElementById('calMsg').textContent=`–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ ${NUM_AXES} —à–∫–∞–ª! (${filled}/${NUM_AXES})`;document.getElementById('calMsg').style.color='var(--red-light)';return}
  const axes={};AXES_KEYS.forEach((k,i)=>axes[k]=calAnswers[i]);
  DataLayer.sendCalibration(hero,axes,lastResult);
  document.getElementById('calMsg').textContent='‚úì –°–ø–∞—Å–∏–±–æ! –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã.';
  document.getElementById('calMsg').style.color='var(--teal-light)';
  document.getElementById('calSubmitBtn').disabled=true;
  document.getElementById('calSubmitBtn').style.opacity='.3';
}

function setFeedback(btn,agreed){
  document.querySelectorAll('.fb-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');
  if(lastResult)DataLayer.sendFeedback(agreed,document.getElementById('realMainSelect').value,lastResult);
}

function exportProfile(){
  if(!lastResult)return;const r=lastResult;
  const l=[`‚óÜ DEADLOCK ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç`,``,`–ì–µ—Ä–æ–π: ${r.bestHero} (${r.compatibility}%)`,`–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: ${r.confidence.label}`,`–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å: ${Math.round(r.consistency.score*100)}%`,``,`–ü—Ä–æ—Ñ–∏–ª—å:`,...AXES_RU.map((n,i)=>`  ${n}: ${r.playerVector[i].toFixed(1)}/5`),``,`–¢–æ–ø-5:`,...r.alternatives.map((h,i)=>`  ${i+1}. ${h.name} ‚Äî ${h.compatibility}%`)];
  navigator.clipboard.writeText(l.join('\n')).then(()=>{const b=document.querySelector('.export-btn');b.textContent='‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ';setTimeout(()=>b.textContent='üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å',2000)}).catch(()=>alert(l.join('\n')));
}

function restart(){
  answers={};currentQ=0;lastResult=null;calAnswers={};
  DataLayer.sessionId=crypto.randomUUID?crypto.randomUUID():'s_'+Date.now()+'_'+Math.random().toString(36).slice(2,8);
  document.getElementById('results').style.display='none';
  document.getElementById('quizArea').style.display='block';
  document.getElementById('navButtons').style.display='flex';
  document.getElementById('progressWrap').style.display='block';
  renderQuestion(0);window.scrollTo({top:0,behavior:'smooth'});
}

renderQuestion(0);
</script>
</body>
</html>
